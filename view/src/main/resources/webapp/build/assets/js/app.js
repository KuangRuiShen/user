webpackJsonp([0],{115:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i});var a=n(0),r=(n.n(a),function(){var e=void 0,t=void 0,n=void 0,a=void 0,r=void 0;return t=window.innerHeight,e=window.innerWidth,r=document.documentElement.scrollTop||document.body.scrollTop,n=document.documentElement.scrollHeight>document.body.scrollHeight?document.documentElement.scrollHeight:document.body.scrollHeight,a=document.documentElement.scrollWidth>document.body.scrollWidth?document.documentElement.scrollWidth:document.body.scrollWidth,{windowW:e,windowH:t,contentH:n,contentW:a,scrollT:r}}),o={showTotal:function(e,t){return"当前"+t[0]+"-"+t[1]+"条 总数"+e+"条"},showQuickJumper:!0},i=[{name:"theme-a",top:"#108ee9",left:"#fff",right:"rgb(245, 247, 250)",menuTheme:"light"},{name:"theme-b",top:"#33b5be",left:"#fff",right:"rgb(245, 247, 250)",menuTheme:"light"},{name:"theme-c",top:"#00a854",left:"#fff",right:"rgb(245, 247, 250)",menuTheme:"light"},{name:"theme-d",top:"#f04134",left:"#fff",right:"rgb(245, 247, 250)",menuTheme:"light"},{name:"theme-e",top:"#373d41",left:"#fff",right:"rgb(245, 247, 250)",menuTheme:"light"},{name:"theme-f",top:"#108ee9",left:"#001529",right:"rgb(245, 247, 250)",menuTheme:"dark"},{name:"theme-g",top:"#00a2ae",left:"#001529",right:"rgb(245, 247, 250)",menuTheme:"dark"},{name:"theme-h",top:"#00a854",left:"#001529",right:"rgb(245, 247, 250)",menuTheme:"dark"},{name:"theme-i",top:"#f04134",left:"#001529",right:"rgb(245, 247, 250)",menuTheme:"dark"},{name:"theme-j",top:"#373d41",left:"#001529",right:"rgb(245, 247, 250)",menuTheme:"dark"}]},1341:function(e,t,n){e.exports=n.p+"assets/images/2khcBhiRU-.png"},1342:function(e,t,n){e.exports=n.p+"assets/images/ujz044upTp.jpg"},1343:function(e,t,n){e.exports=n.p+"assets/images/1l62Pq4DYL.png"},1346:function(e,t,n){n(277),e.exports=n(572)},155:function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"e",function(){return o}),n.d(t,"f",function(){return i}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return p});var a=(n(310),n(37)),r="REQUEST_USERINFO",o="RECEIVE_USERINFO",i="CLEAR_USERINFO",l=function(){return{type:r,data:null}},s=function(){return{type:i,data:null}},c=function(e){return{type:o,data:e}},u=function(e,t){return function(r){r(l()),n.i(a.a)("login",{username:e,password:t}).then(function(e){if(e&&"200"==e.code){var t=e.data;sessionStorage.setItem("userLogin",JSON.stringify(t)),r(c(t))}})}},p=function(e){sessionStorage.removeItem("userLogin"),sessionStorage.removeItem("access_key"),e(s())}},309:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=[{name:"视频管理",url:"/all",icon:"bars",key:"1",children:[{name:"视频分类",url:"/index",key:"0101"},{name:"明星",url:"/star",key:"0102"},{name:"视频上传",url:"/video",key:"0103"}]},{name:"系统管理",url:"/system",icon:"team",key:"8",children:[{name:"用户管理",url:"/userTab",key:"0801"},{name:"评论管理",url:"/comment",key:"0802"}]}]},310:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o});var a="FETCH_ERROR",r="CLEAR_ERROR",o="FETCH_START"},37:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(719)),o=[{name:"login",url:"/login",method:"post"},{name:"category_all",url:"/category/all",method:"get"},{name:"category_list",url:"/category/list",method:"get"},{name:"category_delete",url:"/category/delete",method:"post"},{name:"category_add",url:"/category/add",method:"post"},{name:"category_update",url:"/category/update",method:"post"},{name:"star_all",url:"/star/all",method:"get"},{name:"star_list",url:"/star/list",method:"get"},{name:"star_delete",url:"/star/delete",method:"post"},{name:"star_add",url:"/star/add",method:"post"},{name:"star_update",url:"/star/update",method:"post"},{name:"video_list",url:"/video/list",method:"get"},{name:"video_delete",url:"/video/delete",method:"post"},{name:"video_add",url:"/video/add",method:"post"},{name:"video_update",url:"/video/update",method:"post"},{name:"video_addrelation",url:"/video/addrelation",method:"post"},{name:"user_list",url:"/user/list",method:"get"},{name:"user_addmaster",url:"/user/addmaster",method:"get"},{name:"user_password",url:"/user/password",method:"post"},{name:"user_order",url:"/user/order",method:"get"},{name:"comment_list",url:"/comment/list",method:"get"},{name:"comment_delete",url:"/comment/delete",method:"post"},{name:"comment_add",url:"/comment/add",method:"post"},{name:"comment_update",url:"/comment/update",method:"post"},{name:"delete_file",url:"/upload/file",method:"get"},{name:"get_videurl",url:"/upload/videurl",method:"get"},{name:"user_menoy",url:"/user/menoy",method:"get"},{name:"user_mange",url:"/user/mange",method:"get"},{name:"setmeal_list",url:"/setmeal/list",method:"get"},{name:"setmeal_edit",url:"/setmeal/edit",method:"post"},{name:"charging_list",url:"/charging/list",method:"get"},{name:"user_changeinfo",url:"/user/changeinfo",method:"post"},{name:"code",url:"/code",method:"get"}],i=function(e,t){var a="",i="",l=!0,s=!1,c=void 0;try{for(var u,p=o[Symbol.iterator]();!(l=(u=p.next()).done);l=!0){var f=u.value;f.name===e&&(a=f.url,i=f.method)}}catch(e){s=!0,c=e}finally{try{!l&&p.return&&p.return()}finally{if(s)throw c}}return void 0!=i&&""!=i||(i="GET"),"post"==i.toLowerCase()?n.i(r.a)(a,t):n.i(r.b)(a,t)};i.preurl="/api",t.a=i},572:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(611),r=(n.n(a),n(610)),o=n.n(r),i=n(277),l=(n.n(i),n(0)),s=n.n(l),c=n(13),u=n.n(c),p=n(190),f=(n(1322),n(1296)),d=(n.n(f),n(612)),m=n.n(d),h=n(267),g=(n.n(h),n(994)),y=(n.n(g),n(712)),b=n(718),v=n(1148);n.n(v);n(1023).attach(document.body);var E=function(e){u.a.render(s.a.createElement(f.AppContainer,null,s.a.createElement(p.a,{store:b.a},s.a.createElement(o.a,{locale:m.a},s.a.createElement(e,null)))),document.getElementById("root"))};E(y.a)},686:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return R});var i,l,s=n(114),c=(n.n(s),n(113)),u=n.n(c),p=n(149),f=(n.n(p),n(148)),d=n.n(f),m=n(40),h=(n.n(m),n(52)),g=n.n(h),y=n(41),b=(n.n(y),n(16)),v=n.n(b),E=n(73),w=(n.n(E),n(63)),S=n.n(w),_=n(43),C=(n.n(_),n(42)),k=n.n(C),O=n(46),x=(n.n(O),n(45)),P=n.n(x),j=n(0),I=n.n(j),T=n(37),D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},L=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),N=P.a.Item,R=(i=P.a.create())(l=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.handlePreview=function(e){o.setState({previewImage:e.url||e.thumbUrl,previewVisible:!0})},o.handleChange=function(e){var t=(e.file,e.fileList);e.event;o.setState({fileList:t})},o.handleCancel=function(){return o.setState({previewVisible:!1})},o.beforeUpload=function(e){var t="image/jpeg"===e.type,n="image/gif"===e.type,a="image/png"===e.type;if(!t&&!n&&!a)return k.a.error({content:"必须是JPG/PNG/GIF格式文件"}),!1;var r=e.size/1024/1024<10;return r?(t||n||a)&&r:(k.a.error({content:"图片大小不能超过 10M!"}),!1)},o.handleCreate=function(){var e=o.props,t=e.editData,a=e.refresh,r=e.closePage,i=o.state.fileList;o.props.form.validateFields(function(e,l){e||(t.imgurl&&0!=i.length&&(l.imgurl=t.imgurl),1==i.length&&100==i[0].percent&&(l.imgurl=i[0].response),t.id?(l.id=t.id,n.i(T.a)("star_update",l).then(function(e){e&&"200"==e.code&&(o.props.form.resetFields(),a(),r())})):n.i(T.a)("star_add",l).then(function(e){e&&"200"==e.code&&(o.props.form.resetFields(),a(),r())}))})},o.onClearFrom=function(){o.props.form.resetFields(),o.props.closePage()},o.state={visible:!0,previewVisible:!1,previewImage:"",fileList:[]},o}return o(t,e),L(t,[{key:"componentDidMount",value:function(){if(this.props.editData.imgurl){var e=[];e.push({uid:-1,status:"done",url:this.props.editData.imgurl}),this.setState({fileList:e})}}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.editData,n=(S.a.Option,{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:14}}}),a=this.state,r=a.previewVisible,o=a.previewImage,i=a.fileList,l=I.a.createElement("div",null,I.a.createElement(v.a,{type:"plus"}),I.a.createElement("div",{className:"ant-upload-text"},"Upload"));return I.a.createElement(k.a,{width:600,maskClosable:!1,visible:this.state.visible,title:t.id?"修改明星":"新增明星",onCancel:this.onClearFrom,onOk:this.handleCreate},I.a.createElement(P.a,null,I.a.createElement(N,D({label:"姓名"},n,{hasFeedback:!0}),e("name",{initialValue:t.name,rules:[{required:!0,message:"姓名不能为空!"}]})(I.a.createElement(g.a,{placeholder:"姓名不能为空"}))),I.a.createElement(N,D({label:"序号"},n),e("px",{initialValue:t.px||1,rules:[{required:!0,message:"序号不能为空!"}]})(I.a.createElement(d.a,{min:1,max:99999}))),I.a.createElement(N,D({label:"人物说明"},n),e("remark",{initialValue:t.remark})(I.a.createElement(g.a,{type:"textarea",rows:4,placeholder:"描述"}))),I.a.createElement(N,D({label:"人物主图"},n),I.a.createElement("div",{className:"clearfix"},I.a.createElement(u.a,{action:T.a.preurl+"/upload/image",listType:"picture-card",fileList:i,onPreview:this.handlePreview,onChange:this.handleChange,beforeUpload:this.beforeUpload},1==i.length?null:l),I.a.createElement(k.a,{visible:r,footer:null,onCancel:this.handleCancel},I.a.createElement("img",{style:{width:"100%"},src:o}))))))}}]),t}(I.a.Component))||l},687:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return F});var i=n(75),l=(n.n(i),n(74)),s=n.n(l),c=n(51),u=(n.n(c),n(48)),p=n.n(u),f=n(40),d=(n.n(f),n(52)),m=n.n(d),h=n(46),g=(n.n(h),n(45)),y=n.n(g),b=n(89),v=(n.n(b),n(84)),E=n.n(v),w=n(41),S=(n.n(w),n(16)),_=n.n(S),C=n(152),k=(n.n(C),n(151)),O=n.n(k),x=n(43),P=(n.n(x),n(42)),j=n.n(P),I=n(0),T=n.n(I),D=n(37),L=n(115),N=n(686),R=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),F=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.nameInputChange=function(e){o.setState({name:e.target.value})},o.initLoadData=function(){o.setState({loading:!0}),n.i(D.a)("star_list",{name:o.state.name}).then(function(e){e&&200==e.code&&o.setState({dataSource:e.data,selects:[]}),o.setState({loading:!1})})},o.onSearch=function(){o.initLoadData()},o.editOnClick=function(e){o.setState({showAddStar:!0,editData:e})},o.delete=function(e){var t=[];t.push(e.id),j.a.confirm({title:"删除提示",content:"确定删除所选该类别?",okText:"删除",onOk:function(){o.deleteAll(t)}})},o.handleDelete=function(){o.state.selects.length?j.a.confirm({title:"确定删除",content:"确定删除所选"+o.state.selects.length+"条的数据? 删除后不可恢复!",okText:"确认删除",cancelText:"取消",onOk:function(){o.deleteAll(o.state.selects)}}):O.a.warning("请选择删除记录")},o.deleteAll=function(e){n.i(D.a)("star_delete",e).then(function(e){e&&200==e.code&&(j.a.success({title:"删除成功"}),o.onSearch())})},o.onSelectChange=function(e,t){o.setState({selects:e})},o.closePage=function(){o.setState({showAddStar:!1})},o.imgOnClick=function(e){e&&o.setState({showImg:!0,imgurl:e})},o.state={name:"",dataSource:[],loading:!1,editData:{},imgurl:"",showAddStar:!1,selects:[]},o}return o(t,e),R(t,[{key:"componentWillMount",value:function(){this.initLoadData()}},{key:"render",value:function(){var e=this,t=[,{title:"序号",dataIndex:"px"},{title:"姓名",dataIndex:"name"},{title:"人物说明",dataIndex:"remark"},{title:"人物主图",dataIndex:"imgurl",render:function(t,n,a){return T.a.createElement("div",{style:{height:"50px",cursor:t?"pointer":""},onClick:function(){return e.imgOnClick(n.imgurl)}},T.a.createElement("img",{style:{height:"50px"},src:n.imgurl}))}},{title:"操作",key:"operate",render:function(t,n,a){return T.a.createElement("div",null,T.a.createElement(E.a,{title:"修改"},T.a.createElement(_.a,{type:"edit",style:{fontSize:16,cursor:"pointer",color:"#03aaf4",marginRight:"10px"},onClick:function(){return e.editOnClick(n)}})),T.a.createElement(E.a,{title:"删除"},T.a.createElement(_.a,{type:"delete",style:{fontSize:16,cursor:"pointer",color:"#03aaf4"},onClick:function(){return e.delete(n)}})))}}],n=y.a.Item;return T.a.createElement("div",{className:"new_div_context"},T.a.createElement(y.a,{layout:"inline",style:{padding:"20px 0px 0px 20px"}},T.a.createElement(n,{label:"姓名："},T.a.createElement(m.a,{style:{width:"200px"},onChange:this.nameInputChange,value:this.state.name})),T.a.createElement(n,null,T.a.createElement(p.a,{type:"primary",icon:"search",onClick:this.onSearch},"查询")),T.a.createElement(n,{style:{float:"right",marginLeft:"20px"}}),T.a.createElement(n,{style:{float:"right",marginLeft:"20px"}},T.a.createElement(p.a,{type:"primary",icon:"plus",style:{marginLeft:"10px",backgroundColor:"#1dc3b0",border:"none"},onClick:function(){e.setState({showAddStar:!0,editData:{}})}},"新增"),T.a.createElement(p.a,{type:"primary",icon:"delete",style:{marginLeft:"10px",background:"#ffa54c",border:"none"},onClick:this.handleDelete},"删除"))),T.a.createElement("div",{className:"div_space_table"},T.a.createElement(s.a,{size:"small",rowKey:"id",rowSelection:{selectedRowKeys:this.state.selects,onChange:this.onSelectChange},dataSource:this.state.dataSource,columns:t,loading:this.state.loading,pagination:L.b})),this.state.showAddStar&&T.a.createElement(N.a,{editData:this.state.editData,closePage:this.closePage,refresh:this.onSearch}),T.a.createElement(j.a,{visible:this.state.showImg,footer:null,onCancel:function(){return e.setState({showImg:!1})}},T.a.createElement("img",{style:{width:"100%"},src:this.state.imgurl})))}}]),t}(T.a.Component)},688:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return x});var i=n(75),l=(n.n(i),n(74)),s=n.n(l),c=n(51),u=(n.n(c),n(48)),p=n.n(u),f=n(73),d=(n.n(f),n(63)),m=n.n(d),h=n(283),g=(n.n(h),n(281)),y=n.n(g),b=n(46),v=(n.n(b),n(45)),E=n.n(v),w=n(0),S=n.n(w),_=n(37),C=n(1),k=n.n(C),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),x=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.onRest=function(){o.setState({way:"all",time:[]},o.initLoadData)},o.payChange=function(e){o.setState({way:e})},o.initLoadData=function(){o.setState({loading:!0});var e=o.state,t=e.time,a=e.way,r={};if(2==t.length){var i=t[0].format("YYYY-MM-DD"),l=t[1].format("YYYY-MM-DD");r.bTime=i,r.eTime=l}"all"!=a&&(r.way=a),n.i(_.a)("charging_list",r).then(function(e){if(e&&"200"==e.code){var t=e.data,n=t.datas,a=t.count;o.setState({dataSource:n,totalData:a})}o.setState({loading:!1})})},o.onSearch=function(){o.initLoadData()},o.timeonChange=function(e,t){o.setState({time:e})},o.getChangeDate=function(e){var t=[];1==e?(t.push(k()()),t.push(k()())):2==e?(t.push(k()().subtract(1,"d")),t.push(k()())):3==e?(t.push(k()().startOf("month")),t.push(k()())):4==e&&(t.push(k()().subtract(1,"M").startOf("month")),t.push(k()().subtract(1,"M").endOf("month"))),o.setState({time:t},o.initLoadData)},o.columns=[{title:"用户id",dataIndex:"id"},{title:"交费日期",dataIndex:"recharge_time"},{title:"到期日期",dataIndex:"valid_time"},{title:"用户等级",dataIndex:"roleText"},{title:"推广人id",dataIndex:"invite_id"},{title:"推广人名称",dataIndex:"name"},{title:"支付方式",dataIndex:"trade_type",render:function(e,t,n){return"WX"==e?"微信支付":"支付宝支付"}},{title:"总充值金额(元)",dataIndex:"total",render:function(e,t,n){return Number(e/100)}}],o.getTotal=function(e){var t={color:"red",marginLeft:"5px"};return e?S.a.createElement("span",{style:t},Number(e/100)+"元"):S.a.createElement("span",{style:t},"0 元")},o.state={disabled:!1,dataSource:[],totalData:{},name:"",page:1,pageSize:10,loading:!1,time:[],way:"all"},o}return o(t,e),O(t,[{key:"componentWillMount",value:function(){this.initLoadData()}},{key:"render",value:function(){var e=this,t=E.a.Item,n=y.a.RangePicker,a=m.a.Option,r=this.state.totalData;return S.a.createElement("div",{className:"new_div_context"},S.a.createElement("div",{style:{margin:"10px"}},S.a.createElement(p.a,{style:{marginRight:15},onClick:function(){return e.getChangeDate(1)}},"今天"),S.a.createElement(p.a,{style:{marginRight:15},onClick:function(){return e.getChangeDate(2)}},"昨天"),S.a.createElement(p.a,{style:{marginRight:15},onClick:function(){return e.getChangeDate(3)}},"本月至今"),S.a.createElement(p.a,{style:{marginRight:15},onClick:function(){return e.getChangeDate(4)}},"上个月")),S.a.createElement(E.a,{layout:"inline",style:{marginLeft:10}},S.a.createElement(t,{label:"交费时间"},S.a.createElement(n,{value:this.state.time,onChange:this.timeonChange,format:"YYYY-MM-DD"})),S.a.createElement(t,{label:"支付方式"},S.a.createElement(m.a,{style:{width:200},onChange:this.payChange},S.a.createElement(a,{key:"all"},"所有"),S.a.createElement(a,{key:"WX"},"微信"),S.a.createElement(a,{key:"ALI"},"支付宝"))),S.a.createElement(t,null,S.a.createElement(p.a,{type:"primary",icon:"search",onClick:this.onSearch},"查询"),S.a.createElement(p.a,{type:"Default",icon:"reload",onClick:this.onRest,style:{marginLeft:"10px"}},"重置")),S.a.createElement(t,{style:{float:"right",marginLeft:"20px"}})),S.a.createElement("div",null,S.a.createElement("div",{style:{fontSize:"18px",margin:"15px 0px"}},S.a.createElement("span",{style:{margin:"18px"}},"总金额:",this.getTotal(r.total)),S.a.createElement("span",{style:{margin:"18px"}},"包周:",this.getTotal(r.r1)),S.a.createElement("span",{style:{margin:"18px"}},"包月:",this.getTotal(r.r2)),S.a.createElement("span",{style:{margin:"18px"}},"包季:",this.getTotal(r.r3)),S.a.createElement("span",{style:{margin:"18px"}},"包年:",this.getTotal(r.r4)),S.a.createElement("span",{style:{margin:"18px"}},"永久:",this.getTotal(r.r5))),S.a.createElement(s.a,{size:"small",rowKey:function(e,t){return t},dataSource:this.state.dataSource,columns:this.columns,loading:this.state.loading,pagination:{pageSize:10,showTotal:function(e,t){return"当前"+t[0]+"-"+t[1]+"条 总数"+e+"条"}}})))}}]),t}(S.a.Component)},689:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return L});var i,l,s=n(114),c=(n.n(s),n(113)),u=n.n(c),p=n(41),f=(n.n(p),n(16)),d=n.n(f),m=n(43),h=(n.n(m),n(42)),g=n.n(h),y=n(73),b=(n.n(y),n(63)),v=n.n(b),E=n(46),w=(n.n(E),n(45)),S=n.n(w),_=n(40),C=(n.n(_),n(52)),k=n.n(C),O=n(0),x=n.n(O),P=n(37),j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},I=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),T=k.a.TextArea,D=S.a.Item,L=(v.a.Option,(i=S.a.create())(l=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.handlePreview=function(e){o.setState({previewImage:e.url||e.thumbUrl,previewVisible:!0})},o.handleChange=function(e){var t=(e.file,e.fileList);e.event;o.setState({fileList:t})},o.handleCancel=function(){return o.setState({previewVisible:!1})},o.beforeUpload=function(e){var t="image/jpeg"===e.type,n="image/gif"===e.type,a="image/png"===e.type;if(!t&&!n&&!a)return g.a.error({content:"必须是JPG/PNG/GIF格式文件"}),!1;var r=e.size/1024/1024<10;return r?(t||n||a)&&r:(g.a.error({content:"图片大小不能超过 10M!"}),!1)},o.handleCreate=function(){var e=o.props,t=e.editData,a=e.refresh,r=e.closePage,i=o.state.fileList;o.props.form.validateFields(function(e,l){e||(t.imgurl&&0!=i.length&&(l.imgurl=t.imgurl),1==i.length&&100==i[0].percent&&(l.imgurl=i[0].response),t.id?(l.id=t.id,n.i(P.a)("comment_update",l).then(function(e){e&&"200"==e.code&&(o.props.form.resetFields(),a(),r())})):n.i(P.a)("comment_add",l).then(function(e){e&&"200"==e.code&&(o.props.form.resetFields(),a(),r())}))})},o.onClearFrom=function(){o.props.form.resetFields(),o.props.closePage()},o.state={visible:!0,previewVisible:!1,previewImage:"",fileList:[]},o}return o(t,e),I(t,[{key:"componentDidMount",value:function(){if(this.props.editData.imgurl){var e=[];e.push({uid:-1,status:"done",url:this.props.editData.imgurl}),this.setState({fileList:e})}}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.editData,n=v.a.Option,a={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:14}}},r=this.state,o=r.previewVisible,i=r.previewImage,l=r.fileList,s=x.a.createElement("div",null,x.a.createElement(d.a,{type:"plus"}),x.a.createElement("div",{className:"ant-upload-text"},"Upload")),c=["管理员","普通用户"];return x.a.createElement(g.a,{width:600,maskClosable:!1,visible:this.state.visible,title:t.id?"修改评论":"新增评论",onCancel:this.onClearFrom,onOk:this.handleCreate},x.a.createElement(S.a,null,x.a.createElement(D,j({label:"上传用户头像"},a),x.a.createElement("div",{className:"clearfix"},x.a.createElement(u.a,{action:P.a.preurl+"/upload/image",listType:"picture-card",fileList:l,onPreview:this.handlePreview,onChange:this.handleChange,beforeUpload:this.beforeUpload},1==l.length?null:s),x.a.createElement(g.a,{visible:o,footer:null,onCancel:this.handleCancel},x.a.createElement("img",{style:{width:"100%"},src:i})))),x.a.createElement(D,j({label:"用户名称"},a,{hasFeedback:!0}),e("username",{initialValue:t.username,rules:[{required:!0,message:"用户名不能为空!"}]})(x.a.createElement(k.a,{placeholder:"用户名不能为空"}))),x.a.createElement(D,j({label:"评论内容"},a),e("remark",{initialValue:t.remark})(x.a.createElement(T,{rows:4}))),x.a.createElement(D,j({label:"发言人"},a),e("role",{initialValue:t.role||"普通用户",rules:[{required:!0,message:"发言人不能为空!"}]})(x.a.createElement(v.a,{showSearch:!0,style:{width:200},filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},c.map(function(e){return x.a.createElement(n,{key:e},e)}))))))}}]),t}(x.a.Component))||l)},690:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return F});var i=n(75),l=(n.n(i),n(74)),s=n.n(l),c=n(51),u=(n.n(c),n(48)),p=n.n(u),f=n(40),d=(n.n(f),n(52)),m=n.n(d),h=n(46),g=(n.n(h),n(45)),y=n.n(g),b=n(89),v=(n.n(b),n(84)),E=n.n(v),w=n(41),S=(n.n(w),n(16)),_=n.n(S),C=n(43),k=(n.n(C),n(42)),O=n.n(k),x=n(73),P=(n.n(x),n(63)),j=n.n(P),I=n(0),T=n.n(I),D=n(37),L=n(689),N=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),R=j.a.Option,F=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.nameInputChange=function(e){o.setState({name:e.target.value})},o.initLoadData=function(){o.setState({loading:!0});var e=o.state,t=e.page,a=e.name,r=e.role;"0"==r&&(r=""),n.i(D.a)("comment_list",{page:t,username:a,role:r}).then(function(e){e&&200==e.code&&o.setState({dataSource:e.data,selects:[],total:e.total}),o.setState({loading:!1})})},o.onSearch=function(){o.setState({page:1},o.initLoadData)},o.editOnClick=function(e){o.setState({showAddComment:!0,editData:e})},o.delete=function(e){var t=[];t.push(e.id),O.a.confirm({title:"删除提示",content:"确定删除所选该类别?",okText:"删除",onOk:function(){o.deleteAll(t)}})},o.handleDelete=function(){o.state.selects.length?O.a.confirm({title:"确定删除",content:"确定删除所选"+o.state.selects.length+"条的数据? 删除后不可恢复!",okText:"确认删除",cancelText:"取消",onOk:function(){o.deleteAll(o.state.selects)}}):message.warning("请选择删除记录")},o.deleteAll=function(e){n.i(D.a)("comment_delete",e).then(function(e){e&&200==e.code&&(O.a.success({title:"删除成功"}),o.onSearch())})},o.onSelectChange=function(e,t){o.setState({selects:e})},o.closePage=function(){o.setState({showAddComment:!1})},o.imgOnClick=function(e){e&&o.setState({showImg:!0,imgurl:e})},o.pageChange=function(e,t){o.setState({page:e,pageSize:t},o.initLoadData)},o.handleChange=function(e){o.setState({role:e})},o.state={name:"",role:"",dataSource:[],loading:!1,editData:{},imgurl:"",page:1,pageSize:10,total:0,showAddComment:!1,selects:[]},o}return o(t,e),N(t,[{key:"componentWillMount",value:function(){this.initLoadData()}},{key:"render",value:function(){var e=this,t=[{title:"序号",dataIndex:"px",render:function(t,n,a){return T.a.createElement("div",null,T.a.createElement("span",null,a+1+(e.state.page-1)*e.state.pageSize))}},{title:"用户头像",dataIndex:"imgurl",render:function(t,n,a){return T.a.createElement("div",{style:{height:"50px",cursor:t?"pointer":""},onClick:function(){return e.imgOnClick(n.imgurl)}},T.a.createElement("img",{style:{height:"50px"},src:n.imgurl}))}},{title:"用户名称",dataIndex:"username"},{title:"发言人",dataIndex:"role"},{title:"评论内容",dataIndex:"remark"},{title:"操作",key:"operate",render:function(t,n,a){return T.a.createElement("div",null,T.a.createElement(E.a,{title:"修改"},T.a.createElement(_.a,{type:"edit",style:{fontSize:16,cursor:"pointer",color:"#03aaf4",marginRight:"10px"},onClick:function(){return e.editOnClick(n)}})),T.a.createElement(E.a,{title:"删除"},T.a.createElement(_.a,{type:"delete",style:{fontSize:16,cursor:"pointer",color:"#03aaf4"},onClick:function(){return e.delete(n)}})))}}],n=y.a.Item,a=["管理员","普通用户"];return T.a.createElement("div",{className:"new_div_context"},T.a.createElement(y.a,{layout:"inline",style:{padding:"20px 0px 0px 20px"}},T.a.createElement(n,{label:"用户名称："},T.a.createElement(m.a,{style:{width:"200px"},onChange:this.nameInputChange,value:this.state.name})),T.a.createElement(n,{label:"发言人"},T.a.createElement(j.a,{showSearch:!0,style:{width:200},onChange:this.handleChange,value:this.state.role,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},T.a.createElement(R,{key:"0"},"所有"),a.map(function(e){return T.a.createElement(R,{key:e},e)}))),T.a.createElement(n,null,T.a.createElement(p.a,{type:"primary",icon:"search",onClick:this.onSearch},"查询")),T.a.createElement(n,{style:{float:"right",marginLeft:"20px"}}),T.a.createElement(n,{style:{float:"right",marginLeft:"20px"}},T.a.createElement(p.a,{type:"primary",icon:"plus",style:{marginLeft:"10px",backgroundColor:"#1dc3b0",border:"none"},onClick:function(){e.setState({showAddComment:!0,editData:{}})}},"新增"),T.a.createElement(p.a,{type:"primary",icon:"delete",style:{marginLeft:"10px",background:"#ffa54c",border:"none"},onClick:this.handleDelete},"删除"))),T.a.createElement("div",{className:"div_space_table"},T.a.createElement(s.a,{size:"small",rowKey:"id",rowSelection:{selectedRowKeys:this.state.selects,onChange:this.onSelectChange},dataSource:this.state.dataSource,columns:t,loading:this.state.loading,pagination:{current:this.state.page,pageSize:this.state.pageSize,total:this.state.total,showTotal:function(e,t){return"当前"+t[0]+"-"+t[1]+"条 总数"+e+"条"},showQuickJumper:!0,onChange:this.pageChange}})),this.state.showAddComment&&T.a.createElement(L.a,{editData:this.state.editData,closePage:this.closePage,refresh:this.onSearch}),T.a.createElement(O.a,{visible:this.state.showImg,footer:null,onCancel:function(){return e.setState({showImg:!1})}},T.a.createElement("img",{style:{width:"100%"},src:this.state.imgurl})))}}]),t}(T.a.Component)},691:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return S});var i=n(75),l=(n.n(i),n(74)),s=n.n(l),c=n(51),u=(n.n(c),n(48)),p=n.n(u),f=n(40),d=(n.n(f),n(52)),m=n.n(d),h=n(46),g=(n.n(h),n(45)),y=n.n(g),b=n(0),v=n.n(b),E=n(37),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),S=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.nameInputChange=function(e){o.setState({name:e.target.value})},o.onRest=function(){o.setState({name:""})},o.initLoadData=function(){o.setState({loading:!0});var e=o.state,t=e.page,a=e.name,r={name:a,page:t};n.i(E.a)("user_order",r).then(function(e){e&&"200"==e.code&&o.setState({dataSource:e.data,total:e.total}),o.setState({loading:!1})})},o.onSearch=function(){o.setState({page:1},function(){return o.initLoadData()})},o.pageChange=function(e,t){o.setState({page:e,pageSize:t},function(){return o.initLoadData()})},o.closePage=function(){o.setState({showMoneyPage:!1})},o.timeonChange=function(e,t){o.setState({time:e})},o.columns=[{title:"商户单号(交易)",dataIndex:"trade_no"},{title:"系统订单",dataIndex:"out_trade_no"},{title:"充值说明",dataIndex:"body"},{title:"订单创建时间",dataIndex:"start_time"},{title:"充值方式",dataIndex:"trade_type",render:function(e,t,n){return"WX"==e?"微信支付":"支付宝支付"}},{title:"订单金额(元)",dataIndex:"total_fee",render:function(e,t,n){return Number(e/100)}},{title:"订单结束时间",dataIndex:"end_time"},{title:"实际金额(元)",dataIndex:"act_fee",render:function(e,t,n){return e?Number(e/100):0}},{title:"用户id",dataIndex:"user_id"}],o.state={dataSource:[],name:"",page:1,pageSize:10,loading:!1,uid:"",showMoneyPage:!1,time:[]},o}return o(t,e),w(t,[{key:"componentWillMount",value:function(){this.initLoadData()}},{key:"render",value:function(){var e=y.a.Item;return v.a.createElement("div",{className:"new_div_context"},v.a.createElement(y.a,{layout:"inline",style:{padding:"20px 0px 0px 20px"}},v.a.createElement(e,{label:"商户订单号"},v.a.createElement(m.a,{style:{width:"200px"},onChange:this.nameInputChange,value:this.state.name})),v.a.createElement(e,null,v.a.createElement(p.a,{type:"primary",icon:"search",onClick:this.onSearch},"查询")),v.a.createElement(e,{style:{float:"right",marginLeft:"20px"}})),v.a.createElement("div",{className:"div_space_table"},v.a.createElement(s.a,{size:"small",rowKey:function(e){return e.id},dataSource:this.state.dataSource,columns:this.columns,loading:this.state.loading,pagination:{current:this.state.page,pageSize:this.state.pageSize,total:this.state.total,showTotal:function(e,t){return"当前"+t[0]+"-"+t[1]+"条 总数"+e+"条"},showQuickJumper:!0,onChange:this.pageChange}})))}}]),t}(v.a.Component)},692:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return S});var i,l,s=n(43),c=(n.n(s),n(42)),u=n.n(c),p=n(149),f=(n.n(p),n(148)),d=n.n(f),m=n(46),h=(n.n(m),n(45)),g=n.n(h),y=n(0),b=n.n(y),v=n(37),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},w=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),S=(i=g.a.create())(l=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.handleCreate=function(){var e=o.props,t=e.form,a=e.editData,r=e.closePage,i=e.refresh;t.validateFields(function(e,l){e||(o.setState({loading:!0}),l.id=a.id,n.i(v.a)("setmeal_edit",l).then(function(e){e&&200==e.code&&(t.resetFields(),r(),i()),o.setState({loading:!1})}))})},o.handleCancel=function(e){o.props.form.resetFields(),o.props.closePage()},o.state={loading:!1},o}return o(t,e),w(t,[{key:"render",value:function(){var e=g.a.Item,t=this.props.form.getFieldDecorator,n=this.props.editData,a={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:15}}};return b.a.createElement("div",null,b.a.createElement(u.a,{maskClosable:!1,title:"修改套餐",visible:!0,onOk:this.handleCreate,width:450,confirmLoading:this.state.loading,onCancel:this.handleCancel},b.a.createElement(g.a,{className:"login-form",style:{textAlign:"center"}},b.a.createElement(e,E({label:"费用(分)"},a),t("one",{initialValue:n.one,rules:[{required:!0,message:"不能为空!"}]})(b.a.createElement(d.a,{max:99999}))))))}}]),t}(b.a.Component))||l},693:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return E});var i=n(75),l=(n.n(i),n(74)),s=n.n(l),c=n(89),u=(n.n(c),n(84)),p=n.n(u),f=n(41),d=(n.n(f),n(16)),m=n.n(d),h=n(0),g=n.n(h),y=n(37),b=n(692),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),E=function(e){function t(){var e,o,i,l;a(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return o=i=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),i.state={loading:!1,dataSource:[],showPage:!1,editData:{}},i.initLoadData=function(){i.setState({loading:!0}),n.i(y.a)("setmeal_list").then(function(e){e&&"200"==e.code&&i.setState({dataSource:e.data}),i.setState({loading:!1})})},i.editOnClick=function(e){i.setState({showPage:!0,editData:e})},i.closePage=function(){i.setState({showPage:!1})},i.getText=function(){},i.columns=[{title:"id",dataIndex:"id"},{title:"等级",dataIndex:"name"},{title:"对应的充值",dataIndex:"text"},{title:"费用(元)",dataIndex:"one",render:function(e,t,n){return Number(e/100)}},{title:"操作",key:"operate",render:function(e,t,n){return g.a.createElement(p.a,{title:"修改"},g.a.createElement(m.a,{type:"edit",style:{fontSize:16,cursor:"pointer",color:"#03aaf4",marginRight:"10px"},onClick:function(){return i.editOnClick(t)}}))}}],l=o,r(i,l)}return o(t,e),v(t,[{key:"componentWillMount",value:function(){this.initLoadData()}},{key:"render",value:function(){return g.a.createElement("div",{className:"new_div_context"},g.a.createElement(s.a,{dataSource:this.state.dataSource,columns:this.columns,loading:this.state.loading,pagination:{showTotal:function(e,t){return"当前"+t[0]+"-"+t[1]+"条 总数"+e+"条"}}}),this.state.showPage&&g.a.createElement(b.a,{editData:this.state.editData,closePage:this.closePage,refresh:this.initLoadData}))}}]),t}(g.a.Component)},694:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return S});var i,l,s=n(43),c=(n.n(s),n(42)),u=n.n(c),p=n(40),f=(n.n(p),n(52)),d=n.n(f),m=n(46),h=(n.n(m),n(45)),g=n.n(h),y=n(0),b=n.n(y),v=n(37),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},w=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),S=(i=g.a.create())(l=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.handleCreate=function(){var e=o.props,t=e.form,a=e.editData,r=e.closePage,i=e.refresh;t.validateFields(function(e,l){e||(o.setState({loading:!0}),l.id=a.id,n.i(v.a)("user_changeinfo",l).then(function(e){e&&200==e.code&&(t.resetFields(),r(),i()),o.setState({loading:!1})}))})},o.handleCancel=function(e){o.props.form.resetFields(),o.props.closePage()},o.state={loading:!1},o}return o(t,e),w(t,[{key:"render",value:function(){var e=g.a.Item,t=this.props.form.getFieldDecorator,n=this.props.editData,a={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:15}}};return b.a.createElement("div",null,b.a.createElement(u.a,{maskClosable:!1,title:"修改管理员信息",visible:!0,onOk:this.handleCreate,width:450,confirmLoading:this.state.loading,onCancel:this.handleCancel},b.a.createElement(g.a,{className:"login-form",style:{textAlign:"center"}},b.a.createElement(e,E({label:"管理员名称"},a,{hasFeedback:!0}),t("name",{initialValue:n.name,rules:[{required:!0,message:"管理员名称不能为空!"}]})(b.a.createElement(d.a,{style:{fontSize:13}}))),b.a.createElement(e,E({label:"电话"},a,{hasFeedback:!0}),t("phone",{initialValue:n.phone,rules:[{required:!0,message:"电话不能为空"}]})(b.a.createElement(d.a,{style:{fontSize:13}}))))))}}]),t}(b.a.Component))||l},695:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return b});var i=n(154),l=(n.n(i),n(153)),s=n.n(l),c=n(0),u=n.n(c),p=n(698),f=n(696),d=n(693),m=n(691),h=n(688),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),y=s.a.TabPane,b=function(e){function t(){var e,n,o,i;a(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.state={key:"1"},o.callback=function(e){o.setState({key:e})},i=n,r(o,i)}return o(t,e),g(t,[{key:"render",value:function(){return u.a.createElement(s.a,{activeKey:this.state.key,style:{marginBottom:0},onChange:this.callback},u.a.createElement(y,{tab:"所有用户",key:"1"},"1"==this.state.key&&u.a.createElement(p.a,null)),u.a.createElement(y,{tab:"所有商户单号",key:"4"},"4"==this.state.key&&u.a.createElement(m.a,null)),u.a.createElement(y,{tab:"管理员统计",key:"2"},"2"==this.state.key&&u.a.createElement(f.a,null)),u.a.createElement(y,{tab:"套餐费用设置",key:"3"},"3"==this.state.key&&u.a.createElement(d.a,null)),u.a.createElement(y,{tab:"收费统计",key:"5"},"5"==this.state.key&&u.a.createElement(h.a,null)))}}]),t}(u.a.Component)},696:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return E});var i=n(75),l=(n.n(i),n(74)),s=n.n(l),c=n(89),u=(n.n(c),n(84)),p=n.n(u),f=n(41),d=(n.n(f),n(16)),m=n.n(d),h=n(0),g=n.n(h),y=n(37),b=n(694),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),E=function(e){function t(){var e,o,i,l;a(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return o=i=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),i.state={loading:!1,dataSource:[],showMenoy:!1,editData:{}},i.initLoadData=function(){i.setState({loading:!0}),n.i(y.a)("user_mange").then(function(e){e&&"200"==e.code&&i.setState({dataSource:e.data}),i.setState({loading:!1})})},i.editOnClick=function(e){i.setState({showMenoy:!0,editData:e})},i.closePage=function(){i.setState({showMenoy:!1})},i.columns=[{title:"管理员Id",dataIndex:"id"},{title:"管理员名称",dataIndex:"name"},{title:"联系方式",dataIndex:"phone"},{title:"邀请的人数",dataIndex:"people"},{title:"总金额(元)",dataIndex:"total",render:function(e,t,n){return Number(e/100)}},{title:"操作",key:"operate",render:function(e,t,n){return g.a.createElement(p.a,{title:"修改"},g.a.createElement(m.a,{type:"edit",style:{fontSize:16,cursor:"pointer",color:"#03aaf4",marginRight:"10px"},onClick:function(){return i.editOnClick(t)}}))}}],l=o,r(i,l)}return o(t,e),v(t,[{key:"componentWillMount",value:function(){this.initLoadData()}},{key:"render",value:function(){return g.a.createElement("div",{className:"new_div_context"},g.a.createElement(s.a,{dataSource:this.state.dataSource,columns:this.columns,loading:this.state.loading,pagination:{showTotal:function(e,t){return"当前"+t[0]+"-"+t[1]+"条 总数"+e+"条"}}}),this.state.showMenoy&&g.a.createElement(b.a,{editData:this.state.editData,closePage:this.closePage,refresh:this.initLoadData}))}}]),t}(g.a.Component)},697:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return v});var i=n(43),l=(n.n(i),n(42)),s=n.n(l),c=n(75),u=(n.n(c),n(74)),p=n.n(u),f=n(73),d=(n.n(f),n(63)),m=n.n(d),h=n(0),g=n.n(h),y=n(37),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),v=(m.a.Option,function(e){function t(){var e,o,i,l;a(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return o=i=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),i.state={dataSource:[],loading:!1,uid:"",result:"1"},i.getDate=function(){var e=i.state.uid,t=i.state.result;i.setState({loading:!0}),n.i(y.a)("user_menoy",{uid:e,result:t}).then(function(e){e&&200==e.code&&i.setState({dataSource:e.data}),i.setState({loading:!1})})},i.columns=[{title:"商户单号(交易)",dataIndex:"trade_no"},{title:"系统订单",dataIndex:"out_trade_no"},{title:"充值说明",dataIndex:"body"},{title:"订单创建时间",dataIndex:"start_time"},{title:"充值方式",dataIndex:"trade_type",render:function(e,t,n){return"WX"==e?"微信支付":"支付宝支付"}},{title:"订单金额(元)",dataIndex:"total_fee",render:function(e,t,n){return Number(e/100)}},{title:"订单结束时间",dataIndex:"end_time"},{title:"实际金额(元)",dataIndex:"act_fee",render:function(e,t,n){return e?Number(e/100):0}}],i.handleChange=function(e){i.setState({result:e},i.getDate)},l=o,r(i,l)}return o(t,e),b(t,[{key:"componentWillMount",value:function(){var e=this.props.uid;this.setState({uid:e},this.getDate)}},{key:"render",value:function(){return g.a.createElement(s.a,{width:"80%",maskClosable:!1,visible:!0,title:"充值记录",onCancel:this.props.closePage,footer:null},g.a.createElement(p.a,{dataSource:this.state.dataSource,columns:this.columns,loading:this.state.loading,pagination:{showTotal:function(e,t){return"当前"+t[0]+"-"+t[1]+"条 总数"+e+"条"}}}))}}]),t}(g.a.Component))},698:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return j});var i=n(75),l=(n.n(i),n(74)),s=n.n(l),c=n(40),u=(n.n(c),n(52)),p=n.n(u),f=n(283),d=(n.n(f),n(281)),m=n.n(d),h=n(46),g=(n.n(h),n(45)),y=n.n(g),b=n(51),v=(n.n(b),n(48)),E=n.n(v),w=n(43),S=(n.n(w),n(42)),_=n.n(S),C=n(0),k=n.n(C),O=n(37),x=n(697),P=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),j=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.nameInputChange=function(e){o.setState({name:e.target.value})},o.onRest=function(){o.setState({name:""})},o.initLoadData=function(){o.setState({loading:!0});var e=o.state,t=e.time,a=e.page,r=e.name,i={name:r,page:a};if(2==t.length){var l=t[0].format("YYYY-MM-DD HH:mm:ss"),s=t[1].format("YYYY-MM-DD HH:mm:ss");i.bTime=l,i.eTime=s}n.i(O.a)("user_list",i).then(function(e){e&&"200"==e.code&&o.setState({dataSource:e.data,total:e.total}),o.setState({loading:!1})})},o.onSearch=function(){o.setState({page:1},function(){return o.initLoadData()})},o.setDialogClose=function(){o.setState({showAssignRoleDialog:!1,showPasswordPage:!1,showAssetAccredit:!1,showDomainAccredit:!1})},o.pageChange=function(e,t){o.setState({page:e,pageSize:t},function(){return o.initLoadData()})},o.closePage=function(){o.setState({showMoneyPage:!1})},o.timeonChange=function(e,t){o.setState({time:e})},o.addUser=function(){_.a.confirm({title:"确定添加",content:"确定添加? 添加后不能删除",okText:"确认",cancelText:"取消",onOk:function(){n.i(O.a)("user_addmaster").then(function(e){rers&&200==e.code&&o.initLoadData()})}})},o.columns=[{title:"用户id",dataIndex:"id"},{title:"邀请id",dataIndex:"invite_id"},{title:"创建时间",dataIndex:"create_time"},{title:"最新充值时间",dataIndex:"recharge_time"},{title:"到期时间",dataIndex:"valid_time"},{title:"用户等级",dataIndex:"roleText"},{title:"总充值金额(元)",dataIndex:"money",render:function(e,t,n){return Number(e/100)}},{title:"操作",key:"action",render:function(e,t,n){return k.a.createElement(E.a,{type:"primary",onClick:function(){return o.setState({uid:t.id,showMoneyPage:!0})}},"查看充值记录")}}],o.state={disabled:!1,dataSource:[],name:"",page:1,pageSize:10,loading:!1,uid:"",showMoneyPage:!1,time:[]},o}return o(t,e),P(t,[{key:"componentWillMount",value:function(){this.initLoadData()}},{key:"render",value:function(){var e=y.a.Item,t=m.a.RangePicker;return k.a.createElement("div",{className:"new_div_context"},k.a.createElement(y.a,{layout:"inline",style:{padding:"20px 0px 0px 20px"}},k.a.createElement(e,{label:"用户ID/邀请ID"},k.a.createElement(p.a,{style:{width:"200px"},onChange:this.nameInputChange,value:this.state.name})),k.a.createElement(e,{label:"充值时间"},k.a.createElement(t,{showTime:{format:"HH:mm:ss"},value:this.state.time,onChange:this.timeonChange,format:"YYYY-MM-DD HH:mm:ss"})),k.a.createElement(e,null,k.a.createElement(E.a,{type:"primary",icon:"search",onClick:this.onSearch},"查询")),k.a.createElement(e,{style:{float:"right",marginLeft:"20px"}}),k.a.createElement(e,{style:{float:"right",marginLeft:"20px"}},k.a.createElement(E.a,{type:"primary",icon:"plus",style:{marginLeft:"10px",backgroundColor:"#1dc3b0",border:"none"},onClick:this.addUser},"新增管理员"))),k.a.createElement("div",{className:"div_space_table"},k.a.createElement(s.a,{size:"small",rowKey:function(e){return e.id},dataSource:this.state.dataSource,columns:this.columns,loading:this.state.loading,pagination:{current:this.state.page,pageSize:this.state.pageSize,total:this.state.total,showTotal:function(e,t){return"当前"+t[0]+"-"+t[1]+"条 总数"+e+"条"},showQuickJumper:!0,onChange:this.pageChange}})),this.state.showMoneyPage&&k.a.createElement(x.a,{closePage:this.closePage,uid:this.state.uid}))}}]),t}(k.a.Component)},699:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return R});var i,l,s=n(114),c=(n.n(s),n(113)),u=n.n(c),p=n(149),f=(n.n(p),n(148)),d=n.n(f),m=n(40),h=(n.n(m),n(52)),g=n.n(h),y=n(41),b=(n.n(y),n(16)),v=n.n(b),E=n(43),w=(n.n(E),n(42)),S=n.n(w),_=n(73),C=(n.n(_),n(63)),k=n.n(C),O=n(46),x=(n.n(O),n(45)),P=n.n(x),j=n(0),I=n.n(j),T=n(37),D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},L=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),N=P.a.Item,R=(k.a.Option,(i=P.a.create())(l=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.getType=function(){n.i(T.a)("code").then(function(e){e&&200==e.code&&o.setState({types:e.data})})},o.handlePreview=function(e){o.setState({previewImage:e.url||e.thumbUrl,previewVisible:!0})},o.handleChange=function(e){var t=(e.file,e.fileList);e.event;o.setState({fileList:t})},o.handleCancel=function(){return o.setState({previewVisible:!1})},o.beforeUpload=function(e){var t="image/jpeg"===e.type,n="image/gif"===e.type,a="image/png"===e.type;if(!t&&!n&&!a)return S.a.error({content:"必须是JPG/PNG/GIF格式文件"}),!1;var r=e.size/1024/1024<10;return r?(t||n||a)&&r:(S.a.error({content:"图片大小不能超过 10M!"}),!1)},o.handleCreate=function(){var e=o.props,t=e.editData,a=e.refresh,r=e.closePage,i=o.state.fileList;o.props.form.validateFields(function(e,l){e||(t.imgurl&&0!=i.length&&(l.imgurl=t.imgurl),1==i.length&&100==i[0].percent&&(l.imgurl=i[0].response),t.id?(l.id=t.id,n.i(T.a)("category_update",l).then(function(e){e&&"200"==e.code&&(o.props.form.resetFields(),a(),r())})):n.i(T.a)("category_add",l).then(function(e){e&&"200"==e.code&&(o.props.form.resetFields(),a(),r())}))})},o.onClearFrom=function(){o.props.form.resetFields(),o.props.closePage()},o.state={visible:!0,previewVisible:!1,previewImage:"",fileList:[],types:[]},o}return o(t,e),L(t,[{key:"componentDidMount",value:function(){if(this.getType(),this.props.editData.imgurl){var e=[];e.push({uid:-1,status:"done",url:this.props.editData.imgurl}),this.setState({fileList:e})}}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.editData,n=k.a.Option,a={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:14}}},r=this.state,o=r.previewVisible,i=r.previewImage,l=r.fileList,s=I.a.createElement("div",null,I.a.createElement(v.a,{type:"plus"}),I.a.createElement("div",{className:"ant-upload-text"},"Upload"));return I.a.createElement(S.a,{width:600,maskClosable:!1,visible:this.state.visible,title:t.id?"修改视频分类":"新增视频分类",onCancel:this.onClearFrom,onOk:this.handleCreate},I.a.createElement(P.a,null,I.a.createElement(N,D({label:"页面分类"},a,{hasFeedback:!0}),e("type",{initialValue:t.type,rules:[{required:!0,message:"页面不能为空!"}]})(I.a.createElement(k.a,null,this.state.types.map(function(e){return I.a.createElement(n,{key:e.key},e.value)})))),I.a.createElement(N,D({label:"视频分类名"},a,{hasFeedback:!0}),e("name",{initialValue:t.name,rules:[{required:!0,message:"视频分类名不能为空!"}]})(I.a.createElement(g.a,{placeholder:"视频分类名不能为空"}))),I.a.createElement(N,D({label:"序号"},a),e("px",{initialValue:t.px||1,rules:[{required:!0,message:"序号不能为空!"}]})(I.a.createElement(d.a,{min:1,max:99999}))),I.a.createElement(N,D({label:"视频分类说明"},a),e("remark",{initialValue:t.remark})(I.a.createElement(g.a,{type:"textarea",rows:4,placeholder:"描述"}))),I.a.createElement(N,D({label:"视频分类主图"},a),I.a.createElement("div",{className:"clearfix"},I.a.createElement(u.a,{action:T.a.preurl+"/upload/image",listType:"picture-card",fileList:l,onPreview:this.handlePreview,onChange:this.handleChange,beforeUpload:this.beforeUpload},1==l.length?null:s),I.a.createElement(S.a,{visible:o,footer:null,onCancel:this.handleCancel},I.a.createElement("img",{style:{width:"100%"},src:i}))))))}}]),t}(I.a.Component))||l)},700:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return F});var i,l,s=n(149),c=(n.n(s),n(148)),u=n.n(c),p=n(40),f=(n.n(p),n(52)),d=n.n(f),m=n(114),h=(n.n(m),n(113)),g=n.n(h),y=n(41),b=(n.n(y),n(16)),v=n.n(b),E=n(43),w=(n.n(E),n(42)),S=n.n(w),_=n(73),C=(n.n(_),n(63)),k=n.n(C),O=n(46),x=(n.n(O),n(45)),P=n.n(x),j=n(0),I=n.n(j),T=n(37),D=n(703),L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},N=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),R=P.a.Item,F=(k.a.Option,(i=P.a.create())(l=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.getText=function(e){o.setState({html:e})},o.handleCreate=function(){var e=o.props,t=e.editData,a=e.refresh,r=e.closePage,i=o.state.fileList;o.props.form.validateFields(function(e,l){e||(t.imgurl&&0!=i.length&&(l.imgurl=t.imgurl),1==i.length&&100==i[0].percent&&(l.imgurl=i[0].response),l.remark=o.state.html,t.id?(l.id=t.id,n.i(T.a)("video_update",l).then(function(e){e&&"200"==e.code&&(o.props.form.resetFields(),a(),r())})):n.i(T.a)("video_add",l).then(function(e){e&&"200"==e.code&&(o.props.form.resetFields(),a(),r())}))})},o.onClearFrom=function(){o.props.form.resetFields(),o.props.closePage()},o.handlePreview=function(e){o.setState({previewImage:e.url||e.thumbUrl,previewVisible:!0})},o.handleCancel=function(){return o.setState({previewVisible:!1})},o.handleChange=function(e){var t=(e.file,e.fileList);e.event;o.setState({fileList:t})},o.beforeUpload=function(e){var t="image/jpeg"===e.type,n="image/gif"===e.type,a="image/png"===e.type;if(!t&&!n&&!a)return S.a.error({content:"必须是JPG/PNG/GIF格式文件"}),!1;var r=e.size/1024/1024<10;return r?(t||n||a)&&r:(S.a.error({content:"图片大小不能超过 10M!"}),!1)},o.state={visible:!0,categorys:[],fileList:[],html:"",stars:[],levels:[]},o}return o(t,e),N(t,[{key:"componentWillMount",value:function(){var e=this;if(n.i(T.a)("star_all").then(function(t){t&&200==t.code&&e.setState({stars:t.data})}),this.props.levels&&this.setState({levels:this.props.levels}),this.props.categorys&&this.setState({categorys:this.props.categorys}),this.props.editData.imgurl){var t=[];t.push({uid:-1,status:"done",url:this.props.editData.imgurl}),this.setState({fileList:t})}}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.editData,n=k.a.Option,a={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:14}}},r=["蓝光","HD"],o=this.state,i=o.previewVisible,l=o.previewImage,s=o.fileList,c=I.a.createElement("div",null,I.a.createElement(v.a,{type:"plus"}),I.a.createElement("div",{className:"ant-upload-text"},"Upload"));return I.a.createElement(S.a,{width:760,maskClosable:!1,visible:this.state.visible,title:t.id?"修改视频":"新增视频",onCancel:this.onClearFrom,onOk:this.handleCreate},I.a.createElement(P.a,null,I.a.createElement(R,L({label:"上传视频主图"},a),I.a.createElement("div",{className:"clearfix"},I.a.createElement(g.a,{action:T.a.preurl+"/upload/image",listType:"picture-card",fileList:s,onPreview:this.handlePreview,onChange:this.handleChange,beforeUpload:this.beforeUpload},1==s.length?null:c),I.a.createElement(S.a,{visible:i,footer:null,onCancel:this.handleCancel},I.a.createElement("img",{style:{width:"100%"},src:l})))),I.a.createElement(R,L({label:"视频画质"},a,{hasFeedback:!0}),e("quality",{initialValue:t.quality,rules:[{required:!0,message:"视频画质不能为空!"}]})(I.a.createElement(k.a,null,r.map(function(e){return I.a.createElement(n,{key:e},e)})))),I.a.createElement(R,L({label:"视频名称"},a,{hasFeedback:!0}),e("name",{initialValue:t.name,rules:[{required:!0,message:"视频名称不能为空!"}]})(I.a.createElement(d.a,{placeholder:"视频名称不能为空"}))),I.a.createElement(R,L({label:"所属视频分类"},a,{hasFeedback:!0}),e("cids",{initialValue:t.cids,rules:[{required:!0,message:"所属视频分类不能为空!"}]})(I.a.createElement(k.a,{mode:"multiple"},this.state.categorys.map(function(e){return I.a.createElement(n,{key:e.key},e.value)})))),I.a.createElement(R,L({label:"所属明星"},a,{hasFeedback:!0}),e("sid",{initialValue:t.sid,rules:[{required:!0,message:"所属明星不能为空!"}]})(I.a.createElement(k.a,null,this.state.stars.map(function(e){return I.a.createElement(n,{key:e.key},e.value)})))),I.a.createElement(R,L({label:"会员等级"},a,{hasFeedback:!0}),e("level",{initialValue:t.level,rules:[{required:!0,message:"会员等级不能为空!"}]})(I.a.createElement(k.a,null,this.state.levels.map(function(e){return I.a.createElement(n,{key:e.key},e.value)})))),I.a.createElement(R,L({label:"序号"},a),e("px",{initialValue:t.px||1,rules:[{required:!0,message:"序号不能为空!"}]})(I.a.createElement(u.a,{min:1,max:99999}))),I.a.createElement(R,L({label:"试看分钟数"},a),e("watch",{initialValue:t.watch||1,rules:[{required:!0,message:"试看分钟数不能为空!"}]})(I.a.createElement(u.a,{min:1,max:59}))),I.a.createElement(R,L({label:"虚拟时长"},a),e("time",{initialValue:t.time||1,rules:[{required:!0,message:"试看分钟数不能为空!"}]})(I.a.createElement(u.a,{min:1,max:999}))),I.a.createElement("p",{style:{textAlign:"center"}},"视频说明:"),I.a.createElement(D.a,{text:t.remark,getText:this.getText})))}}]),t}(I.a.Component))||l)},701:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return _});var i=n(114),l=(n.n(i),n(113)),s=n.n(l),c=n(51),u=(n.n(c),n(48)),p=n.n(u),f=n(41),d=(n.n(f),n(16)),m=n.n(d),h=n(43),g=(n.n(h),n(42)),y=n.n(g),b=n(0),v=n.n(b),E=n(990),w=(n.n(E),n(37)),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),_=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.onClearFrom=function(){o.props.closePage()},o.fileChange=function(e){var t=(e.file,e.fileList),n=(e.event,t.filter(function(e){return"removed"!=e.status&&(e.url||"done"!=e.status||(e.url=e.response),!0)}));o.setState({fileList:n})},o.beforeUpload=function(e){var t="image/jpeg"===e.type,n="image/gif"===e.type,a="image/png"===e.type;if(!t&&!n&&!a)return y.a.error({content:"必须是JPG/PNG/GIF格式文件"}),!1;var r=e.size/1024/1024<10;return r?(t||n||a)&&r:(y.a.error({content:"图片大小不能超过 10M!"}),!1)},o.handleCreate=function(){var e=o.state,t=e.vid,a=e.fileList,r=a.map(function(e){if(e.url)return e.url});n.i(w.a)("video_addrelation",{id:t,imgs:r}).then(function(e){e&&200==e.code&&(o.props.refresh(),o.props.closePage())})},o.state={vid:"",fileList:[]},o}return o(t,e),S(t,[{key:"componentWillMount",value:function(){var e=this.props.editData;if(this.props.editData&&this.setState({vid:e.id}),e.imgs&&e.imgs.length>0){var t=e.imgs.map(function(e,t){return{url:e,uid:t,status:"done"}});this.setState({fileList:t})}}},{key:"render",value:function(){var e=this.state,t=(e.vid,e.fileList);return v.a.createElement(y.a,{width:500,maskClosable:!1,visible:!0,title:"上传图片",onCancel:this.onClearFrom,onOk:this.handleCreate},v.a.createElement("div",{style:{maxHeight:"480px",overflow:"auto"}},v.a.createElement(s.a,{className:"upload-list-inline",action:w.a.preurl+"/upload/image",listType:"picture",multiple:!0,fileList:t,onChange:this.fileChange,beforeUpload:this.beforeUpload},v.a.createElement(p.a,null,v.a.createElement(m.a,{type:"upload"})," upload"))))}}]),t}(v.a.Component)},702:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return A});var i=n(75),l=(n.n(i),n(74)),s=n.n(l),c=n(51),u=(n.n(c),n(48)),p=n.n(u),f=n(40),d=(n.n(f),n(52)),m=n.n(d),h=n(46),g=(n.n(h),n(45)),y=n.n(g),b=n(89),v=(n.n(b),n(84)),E=n.n(v),w=n(41),S=(n.n(w),n(16)),_=n.n(S),C=n(152),k=(n.n(C),n(151)),O=n.n(k),x=n(43),P=(n.n(x),n(42)),j=n.n(P),I=n(73),T=(n.n(I),n(63)),D=n.n(T),L=n(0),N=n.n(L),R=n(37),F=(n(115),n(699)),z=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),M=D.a.Option,A=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.nameInputChange=function(e){o.setState({name:e.target.value})},o.pageChange=function(e,t){o.setState({page:e,pageSize:t},o.initLoadData)},o.initLoadData=function(){o.setState({loading:!0});var e={name:o.state.name,page:o.state.page,pageSize:o.state.pageSize};0!=o.state.type&&(e.type=o.state.type),n.i(R.a)("category_list",e).then(function(e){e&&200==e.code&&o.setState({dataSource:e.data,selects:[],total:e.total}),o.setState({loading:!1})})},o.onSearch=function(){o.initLoadData()},o.editOnClick=function(e){o.setState({showAddCategory:!0,editData:e})},o.delete=function(e){var t=[];t.push(e.id),j.a.confirm({title:"删除提示",content:"确定删除所选该类别?",okText:"删除",onOk:function(){o.deleteAll(t)}})},o.handleDelete=function(){o.state.selects.length?j.a.confirm({title:"确定删除",content:"确定删除所选"+o.state.selects.length+"条的数据? 删除后不可恢复!",okText:"确认删除",cancelText:"取消",onOk:function(){o.deleteAll(o.state.selects)}}):O.a.warning("请选择删除记录")},o.deleteAll=function(e){n.i(R.a)("category_delete",e).then(function(e){e&&200==e.code&&(j.a.success({title:"删除成功"}),o.onSearch())})},o.onSelectChange=function(e,t){o.setState({selects:e})},o.closePage=function(){o.setState({showAddCategory:!1})},o.handleChange=function(e){o.setState({type:e})},o.imgOnClick=function(e){e&&o.setState({showImg:!0,imgurl:e})},o.state={name:"",dataSource:[],loading:!1,editData:{},imgurl:"",showAddCategory:!1,selects:[],types:[],type:"0",page:1,pageSize:10,total:0},o}return o(t,e),z(t,[{key:"componentWillMount",value:function(){var e=this;this.initLoadData(),n.i(R.a)("code").then(function(t){t&&200==t.code&&e.setState({types:t.data})})}},{key:"render",value:function(){var e=this,t=[,{title:"序号",dataIndex:"px"},{title:"页面分类",dataIndex:"typeText"},{title:"视频分类名",dataIndex:"name"},{title:"视频说明",dataIndex:"remark"},{title:"视频分类主图",dataIndex:"imgurl",render:function(t,n,a){return N.a.createElement("div",{style:{height:"50px",cursor:t?"pointer":""},onClick:function(){return e.imgOnClick(n.imgurl)}},N.a.createElement("img",{style:{height:"50px"},src:n.imgurl}))}},{title:"操作",key:"operate",render:function(t,n,a){return N.a.createElement("div",null,N.a.createElement(E.a,{title:"修改"},N.a.createElement(_.a,{type:"edit",style:{fontSize:16,cursor:"pointer",color:"#03aaf4",marginRight:"10px"},onClick:function(){return e.editOnClick(n)}})),N.a.createElement(E.a,{title:"删除"},N.a.createElement(_.a,{type:"delete",style:{fontSize:16,cursor:"pointer",color:"#03aaf4"},onClick:function(){return e.delete(n)}})))}}],n=y.a.Item;return N.a.createElement("div",{className:"new_div_context"},N.a.createElement(y.a,{layout:"inline",style:{padding:"20px 0px 0px 20px"}},N.a.createElement(n,{label:"视频分类名："},N.a.createElement(m.a,{style:{width:"200px"},onChange:this.nameInputChange,value:this.state.name})),N.a.createElement(n,{label:"页面类型"},N.a.createElement(D.a,{showSearch:!0,style:{width:200},onChange:this.handleChange,value:this.state.type,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},N.a.createElement(M,{key:"0"},"所有"),this.state.types.map(function(e){return N.a.createElement(M,{key:e.key},e.value)}))),N.a.createElement(n,null,N.a.createElement(p.a,{type:"primary",icon:"search",onClick:this.onSearch},"查询")),N.a.createElement(n,{style:{float:"right",marginLeft:"20px"}}),N.a.createElement(n,{style:{float:"right",marginLeft:"20px"}},N.a.createElement(p.a,{type:"primary",icon:"plus",style:{marginLeft:"10px",backgroundColor:"#1dc3b0",border:"none"},onClick:function(){e.setState({showAddCategory:!0,editData:{}})}},"新增"),N.a.createElement(p.a,{type:"primary",icon:"delete",style:{marginLeft:"10px",background:"#ffa54c",border:"none"},onClick:this.handleDelete},"删除"))),N.a.createElement("div",{className:"div_space_table"},N.a.createElement(s.a,{size:"small",rowKey:"id",rowSelection:{selectedRowKeys:this.state.selects,onChange:this.onSelectChange},dataSource:this.state.dataSource,columns:t,loading:this.state.loading,pagination:{current:this.state.page,pageSize:this.state.pageSize,total:this.state.total,showTotal:function(e,t){return"当前"+t[0]+"-"+t[1]+"条 总数"+e+"条"},showQuickJumper:!0,onChange:this.pageChange}})),this.state.showAddCategory&&N.a.createElement(F.a,{editData:this.state.editData,closePage:this.closePage,refresh:this.onSearch}),N.a.createElement(j.a,{visible:this.state.showImg,footer:null,onCancel:function(){return e.setState({showImg:!1})}},N.a.createElement("img",{style:{width:"100%"},src:this.state.imgurl})))}}]),t}(N.a.Component)},703:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return p});var i=n(0),l=n.n(i),s=n(1344),c=n.n(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),p=function(e){function t(){var e,n,o,i;a(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.state={editorHtml:""},i=n,r(o,i)}return o(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this,t=this.refs.editor_div,n=new c.a(t);n.customConfig.onchange=function(t){e.setState({editorHtml:t}),e.props.getText&&e.props.getText(t)},n.create(),this.props.text&&n.txt.html(this.props.text)}},{key:"render",value:function(){return l.a.createElement("div",{ref:"editor_div"})}}]),t}(l.a.Component)},704:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return I});var i=n(297),l=(n.n(i),n(296)),s=n.n(l),c=n(114),u=(n.n(c),n(113)),p=n.n(u),f=n(51),d=(n.n(f),n(48)),m=n.n(d),h=n(41),g=(n.n(h),n(16)),y=n.n(g),b=n(152),v=(n.n(b),n(151)),E=n.n(v),w=n(43),S=(n.n(w),n(42)),_=n.n(S),C=n(0),k=n.n(C),O=n(37),x=n(1038),P=n.n(x),j=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),I=function(e){function t(){var e,o,i,l;a(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return o=i=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),i.state={loading:!1,fileList:[],errorList:[],vid:"",chucknum:0,chuckSize:1,preUploadPercent:0,videourl:null},i.deleteFile=function(){n.i(O.a)("delete_file",{id:i.state.vid})},i.handleUpload=function(){var e=i.state,t=e.fileList;e.chucknum,e.chuckSize,e.vid;if(1==t.length){var n=t[0],a=[".mp4",".avi",".mkv",".flv",".vob",".wmv",".rm",".rmvb",".ram",".3gp",".m4v"],r=n.name.toLowerCase(),o=r.substring(r.indexOf("."));if(!a.find(function(e){return e==o}))return void _.a.error({title:"不支持该类型上传"});i.setState({loading:!0}),i.upload(n)}},i.upload=function(e){var t=i.state,n=(t.fileList,t.chucknum),a=t.chuckSize,r=t.vid,o=t.errorList,l=Number((n/a*100).toFixed(0)),s=new FormData,c=Math.min(5242880*(n+1),e.size),u=Math.ceil(e.size/5242880);a!=u&&i.setState({chuckSize:u});var p=e.slice(5242880*n,c);s.append("file",p),s.append("vid",r),s.append("fileName",e.name),s.append("chucknum",n),s.append("chuckSize",u);var f=O.a.preurl+"/upload/video";P.a.ajax({url:f,type:"post",data:s,processData:!1,contentType:!1,success:function(t){if(o.length>0&&(i.setState({loading:!1,chucknum:0,errorList:[]}),E.a.info("上传失败,请重新上传")),e.size<=c)return i.setState({loading:!1,chucknum:0,errorList:[]}),E.a.info("上传完成"),void i.getVideurl();i.setState({chucknum:n+1,preUploadPercent:l},function(){return i.upload(e)})},error:function(){o.push(n)}})},i.reupload=function(e,t){var n=i.state,a=n.chuckSize,r=n.vid,o=n.errorList,l=(Number((t/a*100).toFixed(0)),new FormData),s=Math.min(5242880*(t+1),e.size),c=Math.ceil(e.size/5242880);a!=c&&i.setState({chuckSize:c});var u=e.slice(5242880*t,s);l.append("file",u),l.append("vid",r),l.append("fileName",e.name),l.append("chucknum",t),l.append("chuckSize",c);var p=O.a.preurl+"/upload/video";P.a.ajax({url:p,type:"post",data:l,processData:!1,contentType:!1,success:function(e){var n=o.map(function(e){if(e!=t)return e});i.setState({errorList:n})},error:function(){i.reupload(e,t)}})},i.beforeUpload=function(e){return i.setState({fileList:[e]}),!1},i.onRemove=function(e){i.state.loading?E.a.info("上传中...,请勿关闭"):i.setState({fileList:[]})},i.getVideurl=function(){n.i(O.a)("get_videurl",{id:i.state.vid}).then(function(e){e&&200==e.code&&i.setState({videourl:e.data})})},i.onClearFrom=function(){i.deleteFile(),i.props.closePage(),i.props.refresh()},l=o,r(i,l)}return o(t,e),j(t,[{key:"componentWillMount",value:function(){var e=this.props.editData;this.setState({vid:this.props.editData.id}),e.videourl&&this.setState({videourl:e.videourl})}},{key:"render",value:function(){var e=this.state.loading,t=k.a.createElement(m.a,null,k.a.createElement(y.a,{type:"upload"})," 上传");return k.a.createElement(_.a,{width:600,maskClosable:!1,visible:!0,title:"上传视频",footer:null,data:{vid:this.state.vid},onCancel:this.onClearFrom,onOk:this.onClearFrom},k.a.createElement(p.a,{beforeUpload:this.beforeUpload,onRemove:this.onRemove,fileList:this.state.fileList,action:O.a.preurl+"/upload/video"},this.state.loading&&0!=this.state.fileList.length?null:t),k.a.createElement(m.a,{style:{marginTop:20},onClick:this.handleUpload,disabled:0===this.state.fileList.length,loading:e},e?"上传中":"开始上传"),this.state.loading&&k.a.createElement(s.a,{percent:this.state.preUploadPercent}),this.state.videourl?k.a.createElement("div",{style:{width:"100%",marginTop:"20px"}},k.a.createElement("p",null,"已有上传视频"),k.a.createElement("video",{style:{width:"100%"},src:this.state.videourl,autoPlay:!0,loop:!0,controls:!0})," "):k.a.createElement("div",{style:{width:"100%",height:"300px",marginTop:"20px"}},"视频还没有上传"))}}]),t}(k.a.Component)},705:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return V});var i=n(75),l=(n.n(i),n(74)),s=n.n(l),c=n(40),u=(n.n(c),n(52)),p=n.n(u),f=n(46),d=(n.n(f),n(45)),m=n.n(d),h=n(89),g=(n.n(h),n(84)),y=n.n(g),b=n(41),v=(n.n(b),n(16)),E=n.n(v),w=n(51),S=(n.n(w),n(48)),_=n.n(S),C=n(152),k=(n.n(C),n(151)),O=n.n(k),x=n(43),P=(n.n(x),n(42)),j=n.n(P),I=n(73),T=(n.n(I),n(63)),D=n.n(T),L=n(0),N=n.n(L),R=n(37),F=n(700),z=n(701),M=n(704),A=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),U=D.a.Option,V=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.nameInputChange=function(e){o.setState({name:e.target.value})},o.initLoadData=function(){o.setState({loading:!0});var e={name:o.state.name,page:o.state.page,pageSize:o.state.pageSize};0!=o.state.cid&&(e.cid=o.state.cid),"all"!=o.state.level&&(e.level=o.state.level),0!=o.state.type&&(e.type=o.state.type),0!=o.state.star&&(e.sid=o.state.star),n.i(R.a)("video_list",e).then(function(e){e&&200==e.code&&o.setState({dataSource:e.data,selects:[],total:e.total}),o.setState({loading:!1})})},o.onSearch=function(){o.setState({page:1},function(){return o.initLoadData()})},o.onRest=function(){o.setState({name:"",cid:"0",level:"all",category:"0",type:"0",star:"0",page:1},o.onSearch)},o.editOnClick=function(e){o.setState({showAddVideo:!0,editData:e})},o.delete=function(e){var t=[];t.push(e.id),j.a.confirm({title:"删除提示",content:"确定删除所选该视频?",okText:"删除",onOk:function(){o.deleteAll(t)}})},o.handleDelete=function(){o.state.selects.length?j.a.confirm({title:"确定删除",content:"确定删除所选"+o.state.selects.length+"条的数据? 删除后不可恢复!",okText:"确认删除",cancelText:"取消",onOk:function(){o.deleteAll(o.state.selects)}}):O.a.warning("请选择删除记录")},o.deleteAll=function(e){n.i(R.a)("video_delete",e).then(function(e){e&&200==e.code&&(j.a.success({title:"删除成功"}),o.onSearch())})},o.onSelectChange=function(e,t){o.setState({selects:e})},o.pageChange=function(e,t){o.setState({page:e,pageSize:t},o.initLoadData)},o.closePage=function(){o.setState({showAddVideo:!1,showBatchImg:!1,showUploadVideo:!1})},o.handleChange=function(e){o.setState({cid:e})},o.levelChange=function(e){o.setState({level:e})},o.starChange=function(e){o.setState({star:e})},o.typeChange=function(e){o.setState({type:e})},o.imgOnClick=function(e){e&&o.setState({showImg:!0,imgurl:e})},o.uploadImg=function(e){o.setState({editData:e,showBatchImg:!0})},o.uploadVideo=function(e){o.setState({editData:e,showUploadVideo:!0})},o.categoryText=function(e){var t="";return e.categorys.length>0&&e.categorys.map(function(e){t=t+","+e.name}),t=t.substring(1),N.a.createElement("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"100px"}},t)},o.state={name:"",dataSource:[],loading:!1,showAddVideo:!1,page:1,pageSize:10,selects:[],total:0,cid:"0",imgurl:"",showImg:!1,showBatchImg:!1,showUploadVideo:!1,levels:[],level:"all",categorys:[],category:"0",types:[],type:"0",stars:[],star:"0"},o}return o(t,e),A(t,[{key:"componentWillMount",value:function(){var e=this;n.i(R.a)("category_all").then(function(t){if(t&&200==t.code){var n=t.data,a=n.categorys,r=n.types,o=n.levels;e.setState({categorys:a,types:r,levels:o})}}),n.i(R.a)("star_all").then(function(t){t&&200==t.code&&e.setState({stars:t.data})}),this.initLoadData()}},{key:"render",value:function(){var e=this,t=[{title:"序号",dataIndex:"px"},{title:"视频名称",dataIndex:"name",render:function(e,t,n){return e+"("+t.quality+")"}},{title:"类别名称",dataIndex:"cname",render:function(t,n,a){return e.categoryText(n)}},{title:"所属明星",dataIndex:"sname"},{title:"试看",dataIndex:"watch",render:function(e,t,n){return(e||0)+" 分钟"},width:80},{title:"时长",dataIndex:"time",render:function(e,t,n){return(e||0)+" 分钟"},width:80},{title:"视频主图",dataIndex:"imgurl",render:function(t,n,a){return N.a.createElement("div",{style:{height:"50px",cursor:t?"pointer":""},onClick:function(){return e.imgOnClick(n.imgurl)}},N.a.createElement("img",{style:{height:"50px"},src:n.imgurl}))}},{title:"视频缩略图",width:150,dataIndex:"imgs",render:function(t,n,a){return N.a.createElement(_.a,{type:"primary",icon:"file-jpg",onClick:function(){return e.uploadImg(n)}},"上传图片")}},{title:"视频",width:150,dataIndex:"videourl",render:function(t,n,a){return N.a.createElement(_.a,{type:"primary",icon:"play-circle",onClick:function(){return e.uploadVideo(n)}},"上传视频")}},{title:"会员等级",dataIndex:"levelText"},{title:"操作",key:"operate",render:function(t,n,a){return N.a.createElement("div",null,N.a.createElement(y.a,{title:"修改"},N.a.createElement(E.a,{type:"edit",style:{fontSize:16,cursor:"pointer",color:"#03aaf4",marginRight:"10px"},onClick:function(){return e.editOnClick(n)}})),N.a.createElement(y.a,{title:"删除"},N.a.createElement(E.a,{type:"delete",style:{fontSize:16,cursor:"pointer",color:"#03aaf4"},onClick:function(){return e.delete(n)}})))}}],n=m.a.Item;return N.a.createElement("div",{className:"new_div_context"},N.a.createElement(m.a,{layout:"inline",style:{padding:"20px 0px 0px 20px"}},N.a.createElement(n,{label:"视频名称："},N.a.createElement(p.a,{style:{width:"200px"},onChange:this.nameInputChange,value:this.state.name})),N.a.createElement(n,{label:"页面类型"},N.a.createElement(D.a,{showSearch:!0,style:{width:200},onChange:this.typeChange,value:this.state.type,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},N.a.createElement(U,{key:"0"},"所有"),this.state.types.map(function(e){return N.a.createElement(U,{key:e.key},e.value)}))),N.a.createElement(n,{label:"所属视频分类"},N.a.createElement(D.a,{showSearch:!0,style:{width:200},onChange:this.handleChange,value:this.state.cid,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},N.a.createElement(U,{key:"0"},"所有"),this.state.categorys.map(function(e){return N.a.createElement(U,{key:e.key},e.value)}))),N.a.createElement(n,{label:"会员等级"},N.a.createElement(D.a,{showSearch:!0,style:{width:200},onChange:this.levelChange,value:this.state.level,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},N.a.createElement(U,{key:"all"},"所有"),this.state.levels.map(function(e){return N.a.createElement(U,{key:e.key},e.value)}))),N.a.createElement(n,{label:"明星"},N.a.createElement(D.a,{showSearch:!0,style:{width:200},onChange:this.starChange,value:this.state.star,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},N.a.createElement(U,{key:"0"},"所有"),this.state.stars.map(function(e){return N.a.createElement(U,{key:e.key},e.value)}))),N.a.createElement(n,null,N.a.createElement(_.a,{type:"primary",icon:"search",onClick:this.onSearch},"查询"),N.a.createElement(_.a,{type:"Default",icon:"reload",onClick:this.onRest,style:{marginLeft:"10px"}},"重置")),N.a.createElement(n,{style:{float:"right",marginLeft:"20px"}}),N.a.createElement(n,{style:{float:"right",marginLeft:"20px"}},N.a.createElement(_.a,{type:"primary",icon:"plus",style:{marginLeft:"10px",backgroundColor:"#1dc3b0",border:"none"},onClick:function(){e.setState({showAddVideo:!0,editData:{}})}},"新增"),N.a.createElement(_.a,{type:"primary",icon:"delete",style:{marginLeft:"10px",background:"#ffa54c",border:"none"},onClick:this.handleDelete},"删除"))),N.a.createElement("div",{className:"div_space_table"},N.a.createElement(s.a,{size:"small",rowKey:"id",rowSelection:{selectedRowKeys:this.state.selects,onChange:this.onSelectChange},dataSource:this.state.dataSource,columns:t,loading:this.state.loading,pagination:{current:this.state.page,pageSize:this.state.pageSize,total:this.state.total,showTotal:function(e,t){return"当前"+t[0]+"-"+t[1]+"条 总数"+e+"条"},showQuickJumper:!0,onChange:this.pageChange}})),this.state.showAddVideo&&N.a.createElement(F.a,{levels:this.state.levels,categorys:this.state.categorys,closePage:this.closePage,editData:this.state.editData,refresh:this.onSearch}),this.state.showBatchImg&&N.a.createElement(z.a,{closePage:this.closePage,editData:this.state.editData,refresh:this.onSearch}),this.state.showUploadVideo&&N.a.createElement(M.a,{closePage:this.closePage,editData:this.state.editData,refresh:this.onSearch}),N.a.createElement(j.a,{visible:this.state.showImg,footer:null,onCancel:function(){return e.setState({showImg:!1})}},N.a.createElement("img",{style:{width:"100%"},src:this.state.imgurl})))}}]),t}(N.a.Component)},706:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return y});var i=n(41),l=(n.n(i),n(16)),s=n.n(l),c=n(197),u=(n.n(c),n(150)),p=n.n(u),f=n(309),d=n(0),m=n.n(d),h=n(275),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),y=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onOpenChange=function(e){var t=n.state,a=e.find(function(e){return!(t.openKeys.indexOf(e)>-1)}),r=t.openKeys.find(function(t){return!(e.indexOf(t)>-1)}),o=[];a&&(o=n.getAncestorKeys(a).concat(a)),r&&(o=n.getAncestorKeys(r)),n.setState({openKeys:o})},n.getAncestorKeys=function(e){return{key:e}[e]||[]},n.menuOnclik=function(e){var t=[];t.push(e.key),1==e.key.length?n.setState({selectedKeys:t,openKeys:[]}):n.setState({selectedKeys:t})},n.state={openKeys:["1"],theme:e.theme,selectedKeys:["0101"]},n}return o(t,e),g(t,[{key:"componentWillMount",value:function(){var e=window.location.href.split("#")[1],t=[],n=[];f.a.forEach(function(a){a.children&&a.children.forEach(function(r){r.url==e&&(n.push(r.key),t.push(a.key))})}),this.setState({openKeys:t,selectedKeys:n})}},{key:"render",value:function(){var e=p.a.SubMenu;return m.a.createElement(p.a,{theme:this.state.theme,mode:"inline",defaultSelectedKeys:["1"],openKeys:this.state.openKeys,selectedKeys:this.state.selectedKeys,onOpenChange:this.onOpenChange,onClick:this.menuOnclik},f.a.map(function(t,n){if(t.children&&""!=t.children){var a=[],r=t.children.map(function(e,t){return m.a.createElement(p.a.Item,{key:e.key},m.a.createElement(h.e,{key:1,to:e.url},m.a.createElement(s.a,{type:e.icon}),m.a.createElement("span",null,e.name)))});return a.push(m.a.createElement(e,{key:t.key,title:m.a.createElement("span",null,m.a.createElement(s.a,{type:t.icon}),m.a.createElement("span",null,t.name))},r)),a}return m.a.createElement(p.a.Item,{key:t.key},m.a.createElement(h.e,{key:1,to:t.url},m.a.createElement(s.a,{type:t.icon})," ",m.a.createElement("span",null,t.name)))}))}}]),t}(m.a.Component)},707:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(40),l=(n.n(i),n(52)),s=n.n(l),c=n(46),u=(n.n(c),n(45)),p=n.n(u),f=n(43),d=(n.n(f),n(42)),m=n.n(d),h=n(0),g=n.n(h),y=n(37),b=(n(115),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),E=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.handleCreate=function(){var e=o.props,t=e.form,a=e.user;t.validateFields(function(e,t){e||(t.password=t.pass,t.id=a.id,n.i(y.a)("user_password",t).then(function(e){e&&200==e.code&&(m.a.success({title:"操作成功",content:"密码修改成功"}),o.props.closePage())}))})},o.handleConfirmBlur=function(e){var t=e.target.value;o.setState({confirmDirty:o.state.confirmDirty||!!t})},o.checkPassword=function(e,t,n){var a=o.props.form;t&&t!==a.getFieldValue("pass")?n("两次输入的密码不一致"):t&&t.length<8?n("输入的密码长度不能少于8位"):n()},o.checkConfirm=function(e,t,n){var a=o.props.form;t&&o.state.confirmDirty&&a.validateFields(["confirm"],{force:!0}),n()},o.onClearFrom=function(){o.props.form.resetFields(),o.props.closePage()},o.state={confirmDirty:!1},o}return o(t,e),v(t,[{key:"render",value:function(){var e=this.props,t=(e.close,e.form),n=(e.role,t.getFieldDecorator),a=p.a.Item,r={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:14}}};return g.a.createElement(m.a,{maskClosable:!1,width:600,visible:!0,title:"修改密码",onCancel:this.onClearFrom,onOk:this.handleCreate},g.a.createElement(p.a,null,g.a.createElement(a,b({label:"用户账号"},r),g.a.createElement(s.a,{disabled:!0,value:this.props.user.username})),g.a.createElement(a,b({label:"原始密码"},r,{hasFeedback:!0}),n("lastpassword",{rules:[{required:!0,message:"请输入你的原始密码!"}]})(g.a.createElement(s.a,{type:"password"}))),g.a.createElement(a,b({label:"密码"},r,{hasFeedback:!0}),n("pass",{rules:[{required:!0,message:"请输入你的密码!"},{validator:this.checkConfirm}]})(g.a.createElement(s.a,{type:"password"}))),g.a.createElement(a,b({},r,{label:"重复输入密码",hasFeedback:!0}),n("confirm",{rules:[{required:!0,message:"重复密码不能为空!"},{validator:this.checkPassword}]})(g.a.createElement(s.a,{type:"password",onBlur:this.handleConfirmBlur})))))}}]),t}(g.a.Component),w=p.a.create()(E);t.a=w},708:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return K});var i,l,s=n(626),c=(n.n(s),n(625)),u=n.n(c),p=n(285),f=(n.n(p),n(196)),d=n.n(f),m=n(579),h=(n.n(m),n(578)),g=n.n(h),y=n(593),b=(n.n(y),n(592)),v=n.n(b),E=n(197),w=(n.n(E),n(150)),S=n.n(w),_=n(41),C=(n.n(_),n(16)),k=n.n(C),O=n(154),x=(n.n(O),n(153)),P=n.n(x),j=n(292),I=(n.n(j),n(291)),T=n.n(I),D=n(0),L=n.n(D),N=(n(275),n(190)),R=n(155),F=(n(711),n(1341)),z=n.n(F),M=n(991),A=(n.n(M),n(115)),U=n(707),V=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),q=T.a.Header,K=(P.a.TabPane,(i=n.i(N.b)(function(e){return{dispatch:e.dispatch,login:e.login}}))(l=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.getUser=function(){o.props.login.data&&o.setState({user:o.props.login.data})},o.closePage=function(){o.setState({passwork:!1})},o.handleClick=function(e){"logout"==e.key&&n.i(R.b)(o.props.dispatch),"passwork"==e.key&&o.setState({passwork:!0})},o.changeTheme=function(e,t){o.setState({themeNum:t}),o.props.changeTheme(e.menuTheme),document.getElementsByTagName("body")[0].className=e.name,sessionStorage.setItem("themeType",e.name),sessionStorage.setItem("themeColor",e.menuTheme)},o.state={username:"超级管理员",themeLi:A.c,themeNum:0,passwork:!1,user:{}},o}return o(t,e),V(t,[{key:"componentWillMount",value:function(){var e=this;this.state.themeLi.map(function(t,n){t.name==sessionStorage.getItem("themeType")&&e.setState({themeNum:n})})}},{key:"componentDidMount",value:function(){this.getUser()}},{key:"render",value:function(){var e=this,t=L.a.createElement(S.a,{className:"menu",selectedKeys:[],onClick:this.handleClick},L.a.createElement(S.a.Item,{key:"passwork"},L.a.createElement(k.a,{type:"lock"}),"修改密码"),L.a.createElement(S.a.Item,{key:"logout"},L.a.createElement(k.a,{type:"logout"}),"退出登录")),n=[];this.state.themeLi.map(function(t,a){n.push(L.a.createElement("label",{style:{backgroundColor:t.top},key:a,onClick:e.changeTheme.bind(e,t,a)},e.state.themeNum==a&&L.a.createElement(k.a,{type:"check"}),L.a.createElement("div",{className:"areas"},L.a.createElement("span",{className:"nav",style:{background:t.left}}),L.a.createElement("span",{className:"con",style:{background:t.right}}))))});L.a.createElement(S.a,{style:{width:"200px",height:"auto"},className:"theme_ul"},L.a.createElement(S.a.Item,{key:"0"},L.a.createElement("div",{className:"theme_title"},"切换主题"),L.a.createElement("div",{className:"theme_ul"},n)));return L.a.createElement(q,{className:"header"},L.a.createElement(u.a,null,L.a.createElement(v.a,{span:12},L.a.createElement(k.a,{className:"trigger",type:this.props.collapsed?"menu-unfold":"menu-fold",onClick:this.props.toggle,style:{fontSize:20,marginLeft:20,cursor:"pointer"}})),L.a.createElement(v.a,{span:12,style:{textAlign:"right"}},L.a.createElement("div",{className:"top-nav"},L.a.createElement(d.a,{overlay:t},L.a.createElement("span",{className:"action account"},L.a.createElement(g.a,{size:"small",className:"avatar",src:z.a}),L.a.createElement("span",{className:"name"},"超级管理员")))))),this.state.passwork&&L.a.createElement(U.a,{user:this.state.user,closePage:this.closePage}))}}]),t}(L.a.Component))||l)},709:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i,l,s=n(51),c=(n.n(s),n(48)),u=n.n(c),p=n(40),f=(n.n(p),n(52)),d=n.n(f),m=n(41),h=(n.n(m),n(16)),g=n.n(h),y=n(46),b=(n.n(y),n(45)),v=n.n(b),E=n(154),w=(n.n(E),n(153)),S=n.n(w),_=n(0),C=n.n(_),k=n(190),O=n(155),x=(n(115),n(720),n(992)),P=n.n(x),j=n(1342),I=n.n(j),T=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),D=(S.a.TabPane,v.a.Item),L=(i=n.i(k.b)(function(e){return{dispatch:e.dispatch}}))(l=function(e){function t(e){a(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.handleAccountSubmit=function(e){e.preventDefault(),o.props.form.validateFields(function(e,t){if(!e){var a=t.userName,r=t.password;o.props.dispatch(n.i(O.c)(a,r))}})},o.state={active:{},count:0,code:""},o}return o(t,e),T(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this.state,t=(e.type,e.count,this.props.form.getFieldDecorator);return C.a.createElement("div",{className:P.a.container,style:{backgroundImage:"url("+I.a+")"}},C.a.createElement("div",{className:P.a.content},C.a.createElement("header",{style:{fontSize:"60px",marginBottom:40,textAlign:"center"}},C.a.createElement("a",{href:"javascript:;"},"管理平台")),C.a.createElement("div",{className:P.a.main},C.a.createElement(v.a,{onSubmit:this.handleAccountSubmit},C.a.createElement(D,null,t("userName",{rules:[{required:!0,message:"请输入您的账号！"}]})(C.a.createElement(d.a,{size:"large",prefix:C.a.createElement(g.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"请输入用户名"}))),C.a.createElement(D,null,t("password",{rules:[{required:!0,message:"请输入密码！"}]})(C.a.createElement(d.a,{size:"large",prefix:C.a.createElement(g.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"请输入密码"}))),C.a.createElement(D,null,C.a.createElement(u.a,{className:P.a.submit,type:"primary",size:"large",htmlType:"submit"},"登录"),C.a.createElement("a",{style:{float:"right"},href:"javascript:;"},"注册"))))))}}]),t}(C.a.Component))||l,N=v.a.create()(L);t.a=N},710:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(585),l=(n.n(i),n(584)),s=n.n(l),c=n(0),u=n.n(c),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=function(e){function t(){a(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={},e}return o(t,e),p(t,[{key:"render",value:function(){for(var e=this.props.allMenu,t=window.location.href.split("#")[1],n=[],a=0;a<e.length;a++)if(e[a].children)for(var r=0;r<e[a].children.length;r++)e[a].children[r].url==t&&(n.push(e[a],e[a].children[r]),document.title=e[a].children[r].name+"-管理平台");else e[a].url==t&&(n.push(e[a]),document.title=e[a].name+"-管理平台");return u.a.createElement("div",{id:"Breadcrumb"},u.a.createElement(s.a,null,n.map(function(e){return u.a.createElement(s.a.Item,{key:e.key},e.name)})))}}]),t}(u.a.Component);t.a=f},711:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(620),l=(n.n(i),n(619)),s=n.n(l),c=n(582),u=(n.n(c),n(581)),p=n.n(u),f=n(41),d=(n.n(f),n(16)),m=n.n(d),h=n(609),g=(n.n(h),n(608)),y=n.n(g),b=n(639),v=(n.n(b),n(638)),E=n.n(v),w=n(154),S=(n.n(w),n(153)),_=n.n(S),C=n(0),k=n.n(C),O=n(550),x=(n.n(O),n(993)),P=n.n(x),j=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),I=_.a.TabPane;!function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}o(t,e),j(t,[{key:"render",value:function(){var e=[{id:"000000009",title:"任务名称",description:"任务需要在 2017-01-12 20:00 前启动",extra:"未开始",status:"todo",type:"待办"},{id:"000000010",title:"第三方紧急代码变更",description:"冠霖提交于 2017-01-06，需在 2017-01-07 前完成代码变更任务",extra:"马上到期",status:"urgent",type:"待办"},{id:"000000011",title:"信息安全考试",description:"指派竹尔于 2017-01-09 前完成更新并发布",extra:"已耗时 8 天",status:"doing",type:"待办"},{id:"000000012",title:"ABCD 版本发布",description:"冠霖提交于 2017-01-06，需在 2017-01-07 前完成代码变更任务",extra:"进行中",status:"processing",type:"待办"}].map(function(e){if(e.extra&&e.status){var t={todo:"",processing:"blue",urgent:"red",doing:"gold"}[e.status];e.extra=k.a.createElement(E.a,{color:t,style:{marginRight:0}},e.extra)}return e}),t=k.a.createElement("div",null,k.a.createElement(_.a,{defaultActiveKey:"1",className:P.a.tabs},k.a.createElement(I,{tab:"待办(3)",key:"1"},k.a.createElement(O.Scrollbars,{style:{height:400}},k.a.createElement(y.a,{className:P.a.list,dataSource:e,renderItem:function(e){return k.a.createElement(y.a.Item,{className:P.a.item},k.a.createElement(y.a.Item.Meta,{className:P.a.meta,title:k.a.createElement("div",{className:P.a.title},e.title,k.a.createElement("div",{className:P.a.extra},e.extra)),description:k.a.createElement("div",null,k.a.createElement("div",{className:P.a.description,title:e.description},e.description))}))}}),k.a.createElement("div",{className:P.a.all},"查看全部"))),k.a.createElement(I,{tab:"待阅(0)",key:"2"},k.a.createElement(O.Scrollbars,{style:{height:400}})),k.a.createElement(I,{tab:"已办(0)",key:"3"},k.a.createElement(O.Scrollbars,{style:{height:400}}))));return k.a.createElement(s.a,{placement:"bottomRight",content:t,overlayClassName:P.a.popover,trigger:"click"},k.a.createElement("span",{className:"noticeButtonClass"},k.a.createElement(p.a,{count:12},k.a.createElement(m.a,{type:"bell",className:"noticeIcon"}))))}}])}(k.a.Component)},712:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return M});var i,l,s=n(197),c=(n.n(s),n(150)),u=n.n(c),p=n(292),f=(n.n(p),n(291)),d=n.n(f),m=n(0),h=n.n(m),g=n(190),y=n(275),b=n(364),v=n.n(b),E=n(550),w=(n.n(E),n(706)),S=n(115),_=n(710),C=n(708),k=n(309),O=n(709),x=n(1343),P=n.n(x),j=n(687),I=n(705),T=n(702),D=n(695),L=n(690),N=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),R=d.a.Sider,F=d.a.Content,z=v()(),M=(i=n.i(g.b)(function(e){return{login:e.login,dispatch:e.dispatch}}))(l=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.goLogin=function(){if(n.props.login.data){var e=window.location.href.split("#")[1];"/login"!==e&&"login"!==e&&"/"!==e||z.replace({pathname:"/index"})}else z.replace({pathname:"/login"})},n.toggle=function(){n.setState({collapsed:!n.state.collapsed})},n.changeTheme=function(e){n.setState({theme:e})},n.state={collapsed:!1,expandedKeys:[],theme:"light"},n}return o(t,e),N(t,[{key:"componentWillMount",value:function(){window.dispatch=this.props.dispatch,this.goLogin()}},{key:"componentWillUpdate",value:function(e,t){if(e.login.data){var n=window.location.href.split("#")[1];"/login"!==n&&"login"!==n&&"/"!==n||z.replace({pathname:"/index"})}else z.replace({pathname:"/login"})}},{key:"render",value:function(){var e=this;u.a.SubMenu;return h.a.createElement(y.a,{history:z},h.a.createElement(y.b,{render:function(t){var a=t.location;return h.a.createElement("div",{style:{width:"100%",height:"100%",overflow:"hidden"}},h.a.createElement(y.c,{location:a},h.a.createElement(y.b,{location:a,exact:!0,path:"/",render:function(){return h.a.createElement(y.d,{to:"/login"})}}),h.a.createElement(y.b,{location:a,path:"/login",render:function(){return h.a.createElement(O.a,null)}}),h.a.createElement(y.b,{location:a,render:function(t){var a=t.location;return h.a.createElement("div",{style:{height:"100%"}},h.a.createElement(d.a,{style:{height:"100%"}},h.a.createElement(R,{trigger:null,collapsible:!0,collapsed:e.state.collapsed,width:200,className:"sider_menu"},h.a.createElement("div",{className:"logo"},e.state.collapsed?h.a.createElement("img",{style:{height:64},src:P.a}):h.a.createElement("span",{style:{fontSize:"20px",color:"white"}},"管理平台")),h.a.createElement(E.Scrollbars,null,h.a.createElement(w.a,{theme:e.state.theme,collapsed:e.state.collapsed}))),h.a.createElement(d.a,null,h.a.createElement(C.a,{collapsed:e.state.collapsed,toggle:e.toggle,changeTheme:e.changeTheme}),h.a.createElement(_.a,{allMenu:k.a}),h.a.createElement(E.Scrollbars,null,h.a.createElement(F,{style:{minHeight:n.i(S.a)().windowH-108}},h.a.createElement(y.c,{location:a,key:a.pathname.split("/")[1]},h.a.createElement(y.b,{location:a,path:"/index",render:function(){return h.a.createElement(T.a,{location:a})}}),h.a.createElement(y.b,{location:a,path:"/video",render:function(){return h.a.createElement(I.a,{location:a})}}),h.a.createElement(y.b,{location:a,path:"/userTab",render:function(){return h.a.createElement(D.a,{location:a})}}),h.a.createElement(y.b,{location:a,path:"/comment",render:function(){return h.a.createElement(L.a,{location:a})}}),h.a.createElement(y.b,{location:a,path:"/star",render:function(){return h.a.createElement(j.a,{location:a})}}),h.a.createElement(y.b,{location:a,render:function(){return h.a.createElement(y.d,{to:"/login"})}})))))))}})))}}))}}]),t}(h.a.Component))||l},713:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o});var a="SET_TRANSITION",r="SET_HASH_URL",o="SET_JUMP_MODE"},714:function(e,t,n){"use strict";var a=n(310),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=sessionStorage.getItem("store")?JSON.parse(sessionStorage.getItem("store")).fetchError:{error:null,fetched:null},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case a.a:return r({},e,{fetched:"start"});case a.b:return r({},e,{error:t.data,fetched:"failed"});case a.c:return r({},e,{error:null});default:return e}};t.a=i},715:function(e,t,n){"use strict";var a=n(713),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{oldUrl:"/",currentUrl:"/",transition:"none"},t=arguments[1];switch(t.type){case a.a:case a.b:case a.c:return r({},e,t.data);default:return e}};t.a=o},716:function(e,t,n){"use strict";var a=n(193),r=n(558),o=(n.n(r),n(715)),i=n(717),l=n(714),s=n.i(a.combineReducers)({routing:r.routerReducer,hashUrl:o.a,login:i.a,fetchError:l.a});t.a=s},717:function(e,t,n){"use strict";var a=n(155),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=sessionStorage.getItem("userLogin")?{data:JSON.parse(sessionStorage.getItem("userLogin"))}:{data:null},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case a.d:return r({},e,{loading:!0,data:null});case a.e:return r({},e,{loading:!1,data:t.data});case a.f:return r({},e,{loading:!1,data:null});default:return e}};t.a=i},718:function(e,t,n){"use strict";var a=n(193),r=n(1324),o=(n.n(r),n(1329)),i=n(1328),l=n.n(i),s=n(558),c=(n.n(s),n(363)),u=n.n(c),p=n(716),f=u()(),d=n.i(s.routerMiddleware)(f),m=(l()({collapsed:!0}),[o.a,d]),h=n.i(a.createStore)(p.a,n.i(r.composeWithDevTools)(a.applyMiddleware.apply(void 0,m)));t.a=h},719:function(e,t,n){"use strict";function a(e,t){return new Promise(function(n,a){c.a.get(e,{params:t}).then(function(e){e&&n(e.data)}).catch(function(e){a(e)})})}function r(e,t){return new Promise(function(n,a){c.a.post(e,t).then(function(e){e&&n(e.data)}).catch(function(e){a(e)})})}t.b=a,t.a=r;var o=n(43),i=(n.n(o),n(42)),l=n.n(i),s=n(668),c=n.n(s),u=n(155),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};c.a.defaults.baseURL="/api",c.a.defaults.withCredentials=!0,c.a.defaults.headers.get["X-Requested-With"]="XMLHttpRequest",c.a.defaults.headers.post["X-Requested-With"]="XMLHttpRequest",c.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8",c.a.defaults.headers.put["X-Requested-With"]="XMLHttpRequest",c.a.defaults.headers.delete["X-Requested-With"]="XMLHttpRequest",c.a.interceptors.response.use(function(e){return e.data&&200!=e.data.code&&l.a.error({title:"错误信息",content:e.data.message}),e},function(e){return 504==e.response.status&&(l.a.error({title:"系统错误",content:"请联系管理员！"}),window.dispatch(n.i(u.a)())),e.response}),c.a.interceptors.request.use(function(e){var t=JSON.parse(window.sessionStorage.getItem("access_key"));return null!=t&&""!=t&&(e.headers.delete.Authorization="Bearer "+t,e.headers.get.Authorization="Bearer "+t,e.headers.post.Authorization="Bearer "+t,e.headers.put.Authorization="Bearer "+t),"get"==e.method&&(e.params=p({_t:Date.parse(new Date)/1e3},e.params)),e})},720:function(e,t,n){"use strict"},990:function(e,t){e.exports={"upload-list-inline":"app-components-video-Upload-upload-list-inline-1R7Z3","ant-upload-list-item":"app-components-video-Upload-ant-upload-list-item-vaQnT","ant-upload-animate-enter":"app-components-video-Upload-ant-upload-animate-enter-2f5If",uploadAnimateInlineIn:"app-components-video-Upload-uploadAnimateInlineIn-AFBig","ant-upload-animate-leave":"app-components-video-Upload-ant-upload-animate-leave-389fg",uploadAnimateInlineOut:"app-components-video-Upload-uploadAnimateInlineOut-3pmzM"}},991:function(e,t){e.exports={menu:"plugins-header-index-menu-2ewTq",header:"plugins-header-index-header-vyBbd",trigger:"plugins-header-index-trigger-rONL2",right:"plugins-header-index-right-1cAow",action:"plugins-header-index-action-FvIsM",name:"plugins-header-index-name-Y_WuK"}},992:function(e,t){e.exports={container:"plugins-login-index-container-3zzEM",content:"plugins-login-index-content-3e9ds",main:"plugins-login-index-main-2DTND",tabs:"plugins-login-index-tabs-7wZxE",submit:"plugins-login-index-submit-3JRvT",icon_qq:"plugins-login-index-icon_qq-2D9R4",icon_wechat:"plugins-login-index-icon_wechat-1l3KN",getCaptcha:"plugins-login-index-getCaptcha-2Nwvw"}},993:function(e,t){e.exports={popover:"plugins-noticeIcon-index-popover-2xwhk",list:"plugins-noticeIcon-index-list-FIQsN",item:"plugins-noticeIcon-index-item-2dbjT",meta:"plugins-noticeIcon-index-meta-L6kIU",title:"plugins-noticeIcon-index-title-2Yimh",extra:"plugins-noticeIcon-index-extra-2Mxw5",description:"plugins-noticeIcon-index-description-20HyH",all:"plugins-noticeIcon-index-all-3jqC2",tabs:"plugins-noticeIcon-index-tabs-1bgMS"}},994:function(e,t){}},[1346]);
//# sourceMappingURL=app.js.map